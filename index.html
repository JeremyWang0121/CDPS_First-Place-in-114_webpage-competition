<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Co-opetitive Dynamics: MediaTek Project</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Import Map for React and Libraries -->
    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18.2.0",
            "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
            "lucide-react": "https://esm.sh/lucide-react@0.344.0",
            "firebase/app": "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js",
            "firebase/auth": "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js",
            "firebase/firestore": "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js"
        }
    }
    </script>

    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* Custom scrollbar for webkit */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1e293b; 
        }
        ::-webkit-scrollbar-thumb {
            background: #475569; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b; 
        }
        
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        .animate-fade-in-up {
            animation: fadeInUp 0.5s ease-out;
        }
        .animate-pulse-slow {
            animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        .perspective-1000 {
            perspective: 1000px;
        }
        .transform-style-3d {
            transform-style: preserve-3d;
        }
        .backface-hidden {
            backface-visibility: hidden;
        }
        .rotate-y-180 {
            transform: rotateY(180deg);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-slate-950 text-white">
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useEffect } from 'react';
        import { createRoot } from 'react-dom/client';
        import { 
            Cpu, 
            Users, 
            Briefcase, 
            TrendingUp, 
            CheckCircle,
            BookOpen, 
            BrainCircuit, 
            Target, 
            Share2, 
            Award, 
            Menu, 
            X, 
            Globe,
            ArrowRight, 
            GraduationCap, 
            Sparkles, 
            Youtube, 
            ExternalLink, 
            Lightbulb, 
            Network, 
            Layers, 
            Smartphone, 
            Tv, 
            Wifi, 
            BarChart2, 
            Zap, 
            Box, 
            FileText, 
            DollarSign, 
            Book, 
            RotateCcw, 
            ShieldCheck, 
            Factory, 
            ChevronDown, 
            ChevronUp, 
            Wrench, 
            MessageSquare,
            Loader2,
            MessageCircle,
            HelpCircle,
            RefreshCw,
            Sun,
            Moon
        } from 'lucide-react';
        import { initializeApp } from "firebase/app";
        import { 
            getFirestore, 
            collection, 
            addDoc, 
            onSnapshot, 
            query, 
            orderBy, 
            serverTimestamp, 
            doc, 
            updateDoc, 
            arrayUnion 
        } from "firebase/firestore";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "firebase/auth";

        // --- Mock Config for Standalone HTML (Replace with real values to work) ---
        const __firebase_config = typeof window.__firebase_config !== 'undefined' 
            ? window.__firebase_config 
            : JSON.stringify({ apiKey: "YOUR_API_KEY", authDomain: "project-id.firebaseapp.com", projectId: "project-id", storageBucket: "project-id.firebasestorage.app", messagingSenderId: "sender-id", appId: "app-id" });
        
        const __app_id = typeof window.__app_id !== 'undefined' ? window.__app_id : 'default-app-id';

        // --- Firebase Configuration & Initialization ---
        const firebaseConfig = JSON.parse(__firebase_config);
        
        // Initialize Firebase only if config is valid (prevent crash on dummy data)
        let app, auth, db;
        try {
            app = initializeApp(firebaseConfig);
            auth = getAuth(app);
            db = getFirestore(app);
        } catch (e) {
            console.warn("Firebase initialization failed (likely due to dummy config). Some features may not work.");
        }
        
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';

        // --- Gemini API Helper ---
        // 請在此填入您的 Gemini API Key
        const apiKey = ""; 

        const callGemini = async (prompt) => {
            const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
            const payload = {
                contents: [{ parts: [{ text: prompt }] }]
            };

            let attempt = 0;
            const maxRetries = 5;
            const delays = [1000, 2000, 4000, 8000, 16000];

            while (attempt < maxRetries) {
                try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const data = await response.json();
                return data.candidates?.[0]?.content?.parts?.[0]?.text || "No response generated.";
                } catch (error) {
                attempt++;
                if (attempt >= maxRetries) {
                    console.error("Gemini API failed after retries:", error);
                    return "Sorry, the AI service is currently unavailable. Please try again later.";
                }
                await new Promise(resolve => setTimeout(resolve, delays[attempt - 1]));
                }
            }
            return "Error generating content.";
        };

        const content = {
        zh: {
            nav: {
            team: '團隊資訊',
            company: '公司介紹',
            job: '職缺詳情',
            market: '市場分析',
            qa: '知識挑戰',
            backHome: '返回首頁',
            langLabel: 'EN' 
            },
            home: {
            tagline: 'Co-opetitive Dynamics & Platform Strategy',
            title: '競合策略與平台生態',
            subtitle: '深入解析 MediaTek 智慧型手機業務單元 (Smartphone BU) 在全球價值網中的定位與策略',
            explore: '開始探索',
            },
            team: {
            title: '團隊資訊',
            subtitle: '我們的動機與成員介紹',
            motivationTitle: '專案動機',
            motivationText: '在半導體產業日趨激烈的競爭環境下，單純的競爭或合作已無法解釋複雜的市場動態。我們選擇聯發科作為研究對象，旨在探討其如何透過天璣 (Dimensity) 系列晶片建立獨特的競合優勢。本專案將進一步分析目標職位的核心職責，並運用課程所授之競合動態與價值鏈工具，深度剖析聯發科的競爭者與生態系。我們期望藉此透徹理解其業務模式，並在製作本網頁的過程中，實際模擬產品經理 (PM) 的思維視角，從市場洞察到產品呈現，完成一次完整的策略規劃實踐。',
            aiVideoBtn: '前往 YouTube 觀看 AI 自我介紹',
            clickToExpand: '點擊查看詳細經歷',
            aiSloganBtn: '✨ 生成團隊 AI 口號', 
            aiSloganTitle: 'Gemini 團隊分析：',
            members: [
                {
                name: 'Tammy Wu',
                zhName: '吳羽棠',
                age: '21',
                dept: 'IPCM',
                hobbies: '彈鋼琴、閱讀、聽音樂',
                future: '記者 (Journalist)',
                exp: [
                    '校內：鋼琴社社長、社團博覽會美宣長、校際秋季健行總務與補給站長',
                    '校外：日月潭馬拉松志工、埔里山城派對馬拉松志工、埔里單車節志工、天使心家族社會福利基金會志工'
                ],
                videoId: 'zR2OWOlgRGI',
                imgId: '1K1KvteGv4lMag75fSyYpxZN0WMmzYhwH'
                },
                {
                name: 'Khine Linn',
                zhName: '林凱',
                age: '36',
                dept: 'BAITIA',
                hobbies: '彈吉他、水族愛好者、游泳',
                future: '專案顧問 (Project Consultant)',
                exp: [
                    'Telenor 網路策略與架構副理 (制定國家級連接目標策略)',
                    'Ooredoo 資深微波設計工程師 (傳輸網路拓撲優化)',
                    'Ooredoo 電信實施稽核工程師 (站點建設計畫與供應商評選)',
                    'Elite Tech 初級助理工程師 (FTTx 與 GSM 專案維修)'
                ],
                videoId: '7CoNwq6Nu5I',
                imgId: '1b-wg_DoDAkJBXq3qm8ohjPeUgcfgnk5a'
                },
                {
                name: 'Jeremy Wang',
                zhName: '王毓翰',
                age: '20',
                dept: 'IPCM',
                hobbies: '園藝、書法',
                future: '產品經理 (PM) / 管理職',
                futureDesc: '結合跨領域訓練與策略思維',
                exp: [
                    'IPCM系學會會長',
                    '國科會大專生計畫(預計參加)',
                    '創業聯盟競賽',
                    '助教'
                ],
                videoId: 'RokMKyqjtGE',
                imgId: '1QxyuLJlWeXQaaj1OBhZXHiiUM-IFim4s'
                },
                {
                name: 'Ian Yang',
                zhName: '楊勛仲',
                age: '20',
                dept: 'IPCM',
                hobbies: '游泳、重訓、參觀水族館',
                future: '國際商務與金融專家',
                futureDesc: '結合體育訓練經驗與管理分析',
                exp: [
                    '社團幹部',
                    '民宿工作人員',
                    '游泳教練',
                    '救生員',
                    '交通管理',
                    '產品銷售'
                ],
                videoId: 'd-gWJpjRbH8',
                imgId: '1E43KV81Ud308WomhE1gH2L2SxXfMUfry'
                }
            ],
            labels: {
                dept: '系級',
                hobby: '興趣',
                future: '未來展望',
                exp: '經歷與亮點'
            },
            aiToolsTitle: '本專案使用的 AI 工具',
            aiTools: [
                { name: 'Gemini 3.0', url: 'https://gemini.google.com/app' },
                { name: 'Canvas', url: '#' },
                { name: 'Deep Research', url: '#' },
                { name: 'Guide Learning', url: '#' },
                { name: 'ChatGPT 5.2', url: 'https://chatgpt.com/' },
                { name: 'Marketing Research', url: '#' },
                { name: 'Scholar AI', url: '#' },
                { name: 'Scholar GPT', url: '#' },
                { name: 'Notebook LM', url: 'https://notebooklm.google/' },
                { name: 'Otter AI', url: 'https://otter.ai/' },
                { name: 'D-ID Video', url: 'https://www.d-id.com/' }
            ]
            },
            company: {
            title: '公司介紹 — MediaTek',
            heroHeadline: '以先進的智慧型手機晶片技術引領世界，驅動下一代行動運算。',
            heroSub: '聯發科技站在行動晶片創新的最前線，不斷重新定義效能與效率的標準。',
            overviewTitle: '公司概覽',
            overviewText: '聯發科技是全球領先的無線通訊與智慧裝置晶片解決方案供應商，在智慧型手機市場佔有重要地位。透過高度整合的 SoC 設計，公司支援全球多樣化的品牌與市場需求。',
            coreValues: [
                { title: '創新 (Innovation)', desc: '持續投資先進製程、AI 與行動通訊技術，推動晶片效能的長期演進，專注於未來的應用場景而非單一產品世代。' },
                { title: '競合動態 (Co-opetitive)', desc: '在高度競爭的半導體產業中，透過結合競爭與合作的動態關係，在標準制定、供應鏈協調與市場擴展間取得平衡。' },
                { title: '價值網洞察 (Value-Net)', desc: '重視在包含晶圓代工、終端品牌與通路之價值網中的定位，將供應商能力與客戶需求對齊，優化成本與上市時間。' }
            ],
            buTitle: '事業群與策略核心',
            buOverview: '聯發科技擁有全球化且多元的晶片產品組合，涵蓋行動通訊、智慧家庭、IoT 與連接技術，支援跨市場週期的長期成長。',
            buSmartphoneTitle: '智慧型手機事業部 (Smartphone BU)',
            buSmartphoneDesc: '作為公司的核心競爭引擎，驅動技術節奏與規模優勢。以天璣 (Dimensity) 系列為核心，全面覆蓋從旗艦到主流的智慧型手機市場。',
            otherBusTitle: '其他事業群',
            otherBus: [
                { name: '智慧家庭與電視', desc: '全球消費性顯示與多媒體市場解決方案' },
                { name: '物聯網 (IoT)', desc: '工業與消費性應用，強化邊緣運算滲透率' },
                { name: '無線連接 (Connectivity)', desc: 'Wi-Fi 與藍牙技術，擴展跨平台連接價值' }
            ],
            cta: '探索 MediaTek 的晶片技術，了解我們在全球半導體價值網中的策略角色。',
            links: {
                web: '前往聯發科官網',
                stock: '查看股價資訊 (2454.TW)'
            }
            },
            job: {
            title: '職缺介紹',
            subtitle: '加入頂尖團隊，定義未來通訊',
            position: 'Product Marketing Manager (PMM) – Smartphone',
            location: '台灣新竹 | 全職',
            apply: '立即應徵',
            jobOverviewTitle: '職位綜述',
            jobOverview: '智慧型手機產品行銷經理 (PMM) 負責推動聯發科智慧型手機 SoC 產品組合（包括天璣 5G 和 Helio 4G 平台）的成功。此角色結合深厚的產品技術理解、市場導入 (GTM) 執行力以及跨部門協作，以賦能全球 Android OEM 合作夥伴並強化聯發科的市場地位。',
            descTitle: '主要職責',
            descGroups: [
                {
                title: '產品與技術主責 (Ownership)',
                points: [
                    '負責智慧型手機 SoC 的產品規劃、行銷推廣及專案導入 (Design-in)。',
                    '深入了解天璣與 Helio 平台，聚焦 AI、影像、遊戲、連接性與能效優勢。',
                    '支援 OEM 客戶理解產品差異化與不同市場層級的應用場景。'
                ]
                },
                {
                title: '市場導入策略 (GTM Strategy)',
                points: [
                    '定義並執行產品發布策略，包含定位、定價、包裝與通路策略。',
                    '管理跨區域的全方位行銷活動與產品發布執行。',
                    '將產品功能轉化為清晰的客戶與商業價值主張。'
                ]
                },
                {
                title: '市場情資與競爭分析',
                points: [
                    '執行涵蓋市場規模、客戶區隔與買家痛點的市場分析。',
                    '建立競爭分析與定位，以支援產品與商業策略發展。'
                ]
                },
                {
                title: '跨部門協作',
                points: [
                    '與工程、產品開發、銷售、營運、財務及法務團隊緊密合作。',
                    '管理客戶關係，保持有效的溝通與協作。',
                    '為銷售與客戶面對面團隊提供簡報、銷售素材、培訓與常見問題集 (FAQs)。'
                ]
                },
                {
                title: '產品藍圖與執行',
                points: [
                    '規劃並管理產品藍圖 (Roadmap) 及相關行銷與產品管理活動。',
                    '協調跨功能團隊執行產品計畫，達成商業與財務目標。'
                ]
                }
            ],
            compTitle: '薪資福利',
            salary: '參考範圍：月薪 ≥ TWD 40,000',
            benefitsList: [
                {
                title: '學習與發展',
                items: ['結構化培訓系統與清晰的學習藍圖', '多樣化學習資源 (OJT、外部課程)', '知識分享與研究獎勵機制']
                },
                {
                title: '貼心福利',
                items: ['身心發展：健身設施、紓壓服務', '知性生活：藝文活動、旅遊諮詢', '社群關係：家庭支持、社會公益', '貼心服務：票務代訂、生活協助']
                }
            ],
            ksaTitle: '勝任能力 (KSA)',
            ksa: {
                knowledge: {
                    title: 'Knowledge (知識)',
                    tags: ['電子工程', '資訊', '商業'],
                    points: [
                        '電子工程、資工、商業或相關領域背景。',
                        '深入了解智慧型手機與消費電子產業 (含 5G/4G SoC)。',
                        '熟悉 GTM 流程、市場分析與競爭分析。'
                    ]
                },
                skill: {
                    title: 'Skills (技能)',
                    tags: ['流利英文', '顧客洞察'],
                    points: [
                        '將複雜技術轉化為清晰市場訊息與價值主張的能力。',
                        '強大的數據解讀、客戶洞察與競爭動態分析能力。',
                        '流利的英語溝通能力 (聽說讀寫)。'
                    ]
                },
                attitude: {
                    title: 'Attitude (態度)',
                    tags: ['跨部門協作', '快節奏與強適應性'],
                    points: [
                        '自我驅動與結果導向，對產品與市場成果有強烈責任感 (Ownership)。',
                        '具備與跨部門及全球團隊合作的協作精神。',
                        '適應力強，願在快節奏、技術驅動的環境中學習。'
                    ]
                }
            },
            termTitle: '專有名詞學習卡 (Flashcards)',
            terms: [
                { term: 'Project Design-in', def: '客戶在開發階段評估並整合聯發科晶片，早於量產。' },
                { term: 'Project Design-win', def: '客戶正式選用該解決方案進行量產。' },
                { term: 'Roadmap', def: '產品規格、效能目標、時程與市場定位的長期規劃。' },
                { term: 'NTN / NPU / zRAM / SLC', def: '關鍵的晶片組相關技術 (非地面網路、神經處理單元等)。' }
            ],
            ai: {
                title: '✨ AI 面試教練',
                desc: '點擊下方按鈕，讓 Gemini 根據此職位內容，為您生成一道模擬面試題與回答建議！',
                btn: '生成模擬面試題',
                resultTitle: 'Gemini 的建議：'
            }
            },
            market: {
            title: '市場分析：競合動態',
            subtitle: '基於市場共同性與資源相似性的多維度分析',
            resourceTitle: '資源配置分析',
            tangibleTitle: '有形資源 (Tangible Resources)',
            intangibleTitle: '無形資源 (Intangible Resources)',
            tangiblePoints: [
                'SoC 產品組合：天璣 (Dimensity) 覆蓋 5G 入門到旗艦；Helio 鎖定 4G 市場。',
                'R&D 與設計能力：具競爭力的多核心 CPU, GPU, NPU 與整合數據機 (Modem) 設計。',
                'Fabless 模式：與晶圓代工廠 (如 TSMC) 緊密合作。'
            ],
            intangiblePoints: [
                '品牌優勢：在性價比 (Cost-to-Performance) 手機市場具強大品牌力。',
                'AI & 多媒體 IP：強化相機、遊戲與使用者體驗的獨家 IP。',
                'OEM 夥伴關係：廣泛的全球 Android 品牌合作夥伴。',
                '生態系採用：在全球 Android 機型中被廣泛採用。'
            ],
            matrixTitle: '競爭者策略定位矩陣 (Competitor Strategic Positioning Matrix)',
            matrixX: '資源相似性',
            matrixY: ['市', '場', '共', '同', '性'], // Array for vertical rendering
            competitorsList: [
                {
                id: 'qualcomm',
                name: 'Qualcomm',
                mc: 'High',
                rs: 'High-Medium',
                desc: 'Snapdragon 8/7/6/4 families',
                analysis: '全價格帶的直接競爭。雙方皆設計複雜的 ARM 架構 SoC。Qualcomm 在旗艦效能與 Modem 技術領先，MediaTek 則在能效與成本上極具侵略性。',
                color: 'bg-red-500'
                },
                {
                id: 'samsung',
                name: 'Samsung LSI',
                mc: 'Medium',
                rs: 'Medium',
                desc: 'Exynos Series',
                analysis: '中等市場重疊。主要在中階 Android 手機市場，但策略不同。聯發科依賴高效外包，而三星則追求主要針對其 Galaxy 裝置的垂直整合。',
                color: 'bg-blue-500'
                },
                {
                id: 'unisoc',
                name: 'UNISOC',
                mc: 'Medium',
                rs: 'Medium-Low',
                desc: 'T-series / Entry 5G',
                analysis: '預算市場的重疊。UNISOC 專注於成本優化的入門與 4G 市場。MediaTek 在全球 OEM 夥伴關係與品牌認知度上遠勝於此。',
                color: 'bg-purple-500'
                },
                {
                id: 'apple',
                name: 'Apple',
                mc: 'Low',
                rs: 'Low',
                desc: 'A-Series',
                analysis: '極低的直接競爭。Apple 晶片僅用於 iPhone (iOS 生態)，硬體與軟體高度封閉整合，與 MediaTek 的廣泛 Android 策略截然不同。',
                color: 'bg-gray-500'
                }
            ],
            termTitle: '市場概念學習卡 (Key Concepts)',
            terms: [
                { term: '有形資源 (Tangible Resources)', def: '有形資源是指企業可被實際看見、衡量，並列於資產負債表上的實體或財務資源，通常具有明確的市場價值。 常見類型：財務資源、實體資產、技術設備。' },
                { term: '無形資源 (Intangible Resources)', def: '無形資源是指無實體形態、難以直接衡量，但能為企業創造價值與競爭優勢的資源。 常見類型：品牌形象、商譽、專利、商標、著作權、組織文化與管理能力。' },
                { term: '市場共同性 (Market Commonality)', def: '市場共同性是指兩家或多家企業在相同產品市場或地理市場中重疊競爭的程度。' },
                { term: '資源相似性 (Resource Similarity)', def: '資源相似性是指競爭企業之間在資源結構、能力與策略資產上的相似程度。' }
            ],
            valueNetTitle: '價值網 (Value Net) - 點擊節點查看詳情',
            clickDetails: '點擊查看詳情',
            vnData: [
                {
                id: 'SUPPLIER',
                category: '供應商 (SUPPLIER)',
                icon: 'Box', 
                color: 'border-blue-500 bg-blue-500/10',
                partners: [
                    { name: 'IP 供應商 (IP Providers)', details: 'Arm Holdings: 提供 CPU/GPU 架構授權，為行動晶片核心組件。' },
                    { name: 'EDA 工具 (EDA Tools)', details: 'Cadence & Synopsys: 提供晶片設計軟體與 IP 授權，加速 2nm 設計生產力 (提升 30%) 與驗證速度。' },
                    { name: '晶圓代工 (Foundry)', details: 'TSMC (台積電): 唯一先進製程夥伴 (3nm/2nm)，負責旗艦晶片生產。' }
                ],
                valueProvided: '雙向價值：MediaTek 透過 20 億台裝置出貨量擴大 Arm 的市場滲透率；反饋數據協助 Cadence 優化工具。'
                },
                {
                id: 'CUSTOMER',
                category: '客戶 (CUSTOMER)',
                icon: 'Users', 
                color: 'border-green-500 bg-green-500/10',
                partners: [
                    { name: '智慧手機品牌 (Smartphone OEMs)', details: 'OPPO, Vivo, Xiaomi, Realme, Huawei (5G 市佔率達 30%)。' }
                ],
                valueProvided: '價值提供：價格優勢 (高性能低成本)、效能與效率 (天璣 9500 功耗降低 37%)、協助客戶搶佔中低階與新興市場 (拉美、中東非洲)。'
                },
                {
                id: 'COMPETITOR',
                category: '競爭者 (COMPETITOR)',
                icon: 'ShieldCheck', 
                color: 'border-red-500 bg-red-500/10',
                partners: [
                    { name: 'Qualcomm (高通)', details: '最大競爭對手。Snapdragon 在旗艦與 AI 領域強勢，但在中階市場面臨 MediaTek 價格壓力。' },
                    { name: 'UNISOC (紫光展銳)', details: '中國市場中低階 5G (T8300) 主要對手，價格競爭激烈，已打入小米 Redmi 供應鏈。' }
                ],
                valueProvided: '動態競爭：Qualcomm 促使 MediaTek 往高階與 AI 發展；UNISOC 迫使 MediaTek 防守中低階市場份額。'
                },
                {
                id: 'COMPLEMENTOR',
                category: '互補者 (COMPLEMENTOR)',
                icon: 'Factory', 
                color: 'border-purple-500 bg-purple-500/10',
                partners: [
                    { name: 'TSMC (台積電)', details: '核心夥伴。提供 3nm N3P 製程與 CoWoS 封裝。使設計轉化為實體高效能晶片。' },
                    { name: 'ASE (日月光)', details: '封裝加速器。提供 FC-BGA 與先進封裝，加速產品上市。' },
                    { name: 'KYEC (京元電)', details: '品質守門員。負責高複雜度晶片測試，確保良率與穩定性。' }
                ],
                valueProvided: '互補價值：MediaTek 的 10 億顆年出貨量為互補者帶來穩定營收與產能利用率；共同驗證新技術 (如 CoWoS) 降低研發風險。'
                }
            ],
            ai: {
                title: '✨ AI 策略顧問',
                desc: '根據當前市場矩陣與價值網，讓 Gemini 為您生成一份即時策略分析摘要！',
                btn: '生成策略洞察',
                resultTitle: 'Gemini 的策略洞察：'
            }
            },
            qa: {
            title: 'FAQ & 互動問答',
            subtitle: '常見問題集與知識挑戰',
            faqTitle: '常見問題 (FAQ)',
            faqs: [
                {
                q: '聯發科為什麼選擇將晶圓製造、包裝和測試外包？',
                a: '聯發科選擇將晶圓製造、封裝和測試外包，以便專注於其核心競爭力—積體電路設計。在避免高額資本投入和風險的同時，利用專業代工廠的技術和規模效應，並保持生產靈活性，這種外包策略幫助聯發科在資金、風險管理、技術創新和市場響應速度方面保持了優勢。'
                },
                {
                q: '除了手機晶片，聯發科還有哪些業務？',
                a: '除了手機晶片，聯發科還生產用於家庭娛樂（智慧電視、機上盒）、無線通訊、物聯網 (IoT)、汽車電子以及近年來主流發展的 AI 伺服器/資料中心 ASIC 晶片。'
                },
                {
                q: 'PMM 職位對英語能力有什麼要求？',
                a: '產品行銷經理需要製定全球市場策略，與國際團隊（例如美國、印度和日本的團隊）協作溝通，協調跨國項目，並以英語撰寫報告和簡報。因此，我們希望求職者俱備出色的口頭溝通能力和專業的寫作能力，能夠流暢地處理國際會議和文件。'
                },
                {
                q: '什麼是手機晶片？',
                a: '手機晶片是手機的大腦和心臟，整合了 CPU、GPU、NPU（人工智慧處理器）、ISP（影像處理單元）和 5G 數據機等多個核心，分別負責運算、圖形渲染、人工智慧任務、拍照和連網等功能，確保手機流暢運作並能快速支援各種功能。'
                },
                {
                q: '為什麼聯發科的定價比高通的低？',
                a: '聯發科的行動晶片（例如天璣系列）價格比高通驍龍晶片低約 50%，這主要是因為其研發策略和規模經濟。聯發科採用 Arm 標準 CPU/GPU 設計，無需對客製化核心進行大量投資，從而顯著降低了研發成本。其策略重點在於成本效益，避免了高通的專利費和品牌溢價，吸引了小米和 OPPO 等中高端智慧型手機製造商，擴大了市場份額，並透過年出貨量超過 10 億顆的晶片攤銷固定成本，從而增強了價格競爭力。其利潤主要來自銷售而非單價，實現了規模經濟。'
                }
            ],
            quizTitle: '知識挑戰 (Quiz Challenge)',
            aiQuizBtn: '✨ AI 出題', 
            aiTag: '✨ AI 生成', 
            quizzes: [
                {
                category: '公司介紹',
                question: '如果只能用一個技術領域來概括 MediaTek 的核心重心，會最貼近的會是哪一項？',
                options: [
                    { text: 'A. 雲端運算與資料中心晶片', isCorrect: false },
                    { text: 'B. 智慧型手機晶片技術', isCorrect: true },
                    { text: 'C. 汽車電子控制晶片', isCorrect: false }
                ],
                explanation: '解釋：整段公司介紹的描述都是從智慧型手機出發，談效能、效率與行動運算的應用場景，並沒有把主軸放在資料中心或車用系統。'
                },
                {
                    category: '公司介紹',
                    question: '公司介紹中提到的「站在創新的最前線」，實際上是在指哪一個技術方向？',
                    options: [
                    { text: 'A. 行動晶片', isCorrect: true },
                    { text: 'B. 軟體平台', isCorrect: false },
                    { text: 'C. 半導體設備製造', isCorrect: false }
                    ],
                    explanation: '解釋：文中的「創新前線」是搭配行動裝置與晶片技術一起出現的，語意上是在強調行動晶片本身的演進，而不是平台或製造端。'
                },
                {
                category: '公司介紹',
                question: 'From an overall positioning perspective, which company role does MediaTek best resemble?',
                options: [
                    { text: 'A. Providing OS and Application Services', isCorrect: false },
                    { text: 'B. Providing Wireless Communication and Smart Device Chip Solutions', isCorrect: true },
                    { text: 'C. Providing Cloud Infrastructure Services', isCorrect: false }
                ],
                explanation: 'Explanation: The company overview repeatedly mentions chips, communications, and integrated solutions, indicating MediaTek\'s position is at the hardware and system level, not software or cloud services.'
                },
                {
                    category: '公司介紹',
                    question: 'Which description best fits MediaTek\'s approach to SoC design?',
                    options: [
                    { text: 'A. Focusing on single-function modular design', isCorrect: false },
                    { text: 'B. Emphasizing high integration to meet diverse market needs', isCorrect: true },
                    { text: 'C. Primarily low-volume, high-customization products', isCorrect: false }
                    ],
                    explanation: 'Explanation: The introduction explicitly points out "highly integrated" and "diverse markets," indicating the goal of SoC design is universality and scale, rather than single-use or low-volume customization.'
                },
                {
                    category: '公司介紹',
                    question: 'In terms of industry interaction description, which perspective does MediaTek adopt?',
                    options: [
                    { text: 'A. Viewing other vendors purely as competitors', isCorrect: false },
                    { text: 'B. Only emphasizing cooperative relationships with partners', isCorrect: false },
                    { text: 'C. Both competitive and cooperative relationships exist simultaneously', isCorrect: true }
                    ],
                    explanation: 'Explanation: The company introduction specifically uses the concept of "co-opetitive," explaining that MediaTek operates in the industry not just by competing or cooperating, but with both coexisting.'
                },
                {
                category: 'Job Details',
                question: 'Based on the job content, what category of products is this role primarily responsible for?',
                options: [
                    { text: 'A. IoT and Smart Home Chips', isCorrect: false },
                    { text: 'B. 5G Flagship Smartphone Chips', isCorrect: true },
                    { text: 'C. Wireless Connectivity and Wi-Fi Modules', isCorrect: false }
                ],
                explanation: 'Explanation: The job description directly points to the Smartphone BU and 5G flagship product lines, showing this role focuses on high-end smartphone chips.'
                },
                {
                    category: 'Job Details',
                    question: 'Which stage of the product lifecycle does this role\'s involvement most closely match?',
                    options: [
                    { text: 'A. From manufacturing to shipping', isCorrect: false },
                    { text: 'B. From spec definition to Go-to-Market (GTM)', isCorrect: true },
                    { text: 'C. From marketing planning to brand communication', isCorrect: false }
                    ],
                    explanation: 'Explanation: The job content clearly mentions spec definition and GTM, meaning this role spans product planning and market introduction, not manufacturing or pure marketing.'
                },
                {
                    category: 'Job Details',
                    question: 'In the market analysis section, which competitors are specifically named as needing attention?',
                    options: [
                    { text: 'A. Samsung, Sony', isCorrect: false },
                    { text: 'B. Qualcomm, Apple', isCorrect: true },
                    { text: 'C. Google, Microsoft', isCorrect: false }
                    ],
                    explanation: 'Explanation: The job description explicitly lists Qualcomm and Apple, indicating these two are viewed as the most critical rivals in the Smartphone SoC market.'
                },
                {
                category: 'Market Analysis',
                question: 'In the classification of resource configuration, which item belongs to "tangible, directly allocable" resources?',
                options: [
                    { text: 'A. OEM Partnerships', isCorrect: false },
                    { text: 'B. Brand Strength', isCorrect: false },
                    { text: 'C. SoC Product Portfolio', isCorrect: true }
                ],
                explanation: 'Explanation: The SoC product itself is a concretely existing, manageable resource, thus classified as a tangible resource, rather than a relationship or intellectual property.'
                },
                {
                    category: 'Market Analysis',
                    question: 'Which market does the Helio series primarily correspond to in the overall product configuration?',
                    options: [
                    { text: 'A. 5G Flagship Market', isCorrect: false },
                    { text: 'B. 5G Entry-to-Flagship', isCorrect: false },
                    { text: 'C. 4G Market', isCorrect: true }
                    ],
                    explanation: 'Explanation: The analysis clearly links the Helio series with the 4G market, distinguishing it from other product lines focused on 5G.'
                },
                {
                    category: 'Market Analysis',
                    question: 'Which of the following fits the characteristic of "Intangible Resources"?',
                    options: [
                    { text: 'A. Fabless Model', isCorrect: false },
                    { text: 'B. Brand Advantage (Cost-to-Performance)', isCorrect: true },
                    { text: 'C. Multi-core CPU, GPU, NPU Integration Capability', isCorrect: false }
                    ],
                    explanation: 'Explanation: Brand image and cost-performance ratio belong to advantages at the market perception level, cannot be directly quantified, and are thus classified as intangible resources.'
                },
                {
                    category: 'Market Analysis',
                    question: 'What is the role of OPPO, Vivo, and Xiaomi in the Value Net?',
                    options: [
                    { text: 'A. Competitors', isCorrect: false },
                    { text: 'B. Customers', isCorrect: true },
                    { text: 'C. Suppliers', isCorrect: false }
                    ],
                    explanation: 'Explanation: These brands are placed in the position of end adopters in the value net, representing their role as customers using MediaTek chips.'
                },
                {
                    category: 'Market Analysis',
                    question: 'How are TSMC, ARM, and Google positioned in the Value Net?',
                    options: [
                    { text: 'A. Competitors', isCorrect: false },
                    { text: 'B. Suppliers', isCorrect: false },
                    { text: 'C. Complementors', isCorrect: true }
                    ],
                    explanation: 'Explanation: The processes, IPs, or platforms provided by these companies can enhance the overall value of MediaTek products, so they are viewed as complementors.'
                },
                {
                    category: 'Market Analysis',
                    question: 'What is the main role of IP Providers and EDA Tools in the Value Net?',
                    options: [
                    { text: 'A. Customers', isCorrect: false },
                    { text: 'B. Suppliers', isCorrect: true },
                    { text: 'C. Complementors', isCorrect: false }
                    ],
                    explanation: 'Explanation: IP and EDA tools are indispensable input items for chip design, thus classified as suppliers in the value net.'
                }
            ]
            }
        },
        en: {
            nav: {
            team: 'Team Info',
            company: 'Company',
            job: 'Job Details',
            market: 'Market Analysis',
            qa: 'Quiz Challenge',
            backHome: 'Back to Home',
            langLabel: '中文' 
            },
            home: {
            tagline: 'Co-opetitive Dynamics & Platform Strategy',
            title: 'Strategy & Ecosystem',
            subtitle: 'Deep dive into MediaTek Smartphone BU\'s positioning and strategy within the global value net.',
            explore: 'Start Exploring',
            },
            team: {
            title: 'Team Information',
            subtitle: 'Our Motivation & Members',
            motivationTitle: 'Project Motivation',
            motivationText: 'In the increasingly competitive semiconductor industry, simple competition or cooperation can no longer explain complex market dynamics. We have chosen MediaTek as our research subject to explore how it builds unique coopetitive advantages through its Dimensity series chips. This project will further analyze the core responsibilities of the target position and utilize the "Coopetition Dynamics" and "Value Chain" tools taught in class to conduct a deep analysis of MediaTek\'s competitors and ecosystem. Through this, we aim to gain a thorough understanding of its business model. Furthermore, by creating this website, we intend to simulate a Product Manager\'s (PM) perspective—from market insight to product presentation—completing a full-scale practice of strategic planning.',
            aiVideoBtn: 'Watch AI Intro on YouTube',
            clickToExpand: 'Click to expand details',
            aiSloganBtn: '✨ Generate Team AI Slogan', 
            aiSloganTitle: 'Gemini Team Analysis:',
            members: [
                {
                name: 'Tammy Wu',
                zhName: '吳羽棠',
                age: '21',
                dept: 'IPCM',
                hobbies: 'Playing piano, Reading, Music',
                future: 'Journalist',
                exp: [
                    'School: President of Piano Club, Art Director of Club Fair, Officer for Inter-school Hiking.',
                    'Off-campus: Volunteer for Sun Moon Lake Marathon, Puli Cycling Festival, and Angel Heart Family Foundation.'
                ],
                videoId: 'zR2OWOlgRGI',
                imgId: '1K1KvteGv4lMag75fSyYpxZN0WMmzYhwH'
                },
                {
                name: 'Khine Linn',
                zhName: '林凱',
                age: '36',
                dept: 'BAITIA',
                hobbies: 'Guitar, Aquarist, Swimming',
                future: 'Project Consultant',
                exp: [
                    'Asst. Manager at Telenor (Network Strategy).',
                    'Senior Microwave Engineer at Ooredoo.',
                    'Telecom Auditor at Ooredoo.',
                    'Jr. Engineer at Elite Tech.'
                ],
                videoId: '7CoNwq6Nu5I',
                imgId: '1b-wg_DoDAkJBXq3qm8ohjPeUgcfgnk5a'
                },
                {
                name: 'Jeremy Wang',
                zhName: '王毓翰',
                age: '20',
                dept: 'IPCM',
                hobbies: 'Gardening, Calligraphy',
                future: 'Product Manager (PM)',
                futureDesc: 'Aiming for managerial & project-oriented roles',
                exp: [
                    'President of IPCM SA',
                    'Start-up Competition',
                    'NSTC Research (Planned)',
                    'TA'
                ],
                videoId: 'RokMKyqjtGE',
                imgId: '1QxyuLJlWeXQaaj1OBhZXHiiUM-IFim4s'
                },
                {
                name: 'Ian Yang',
                zhName: '楊勛仲',
                age: '20',
                dept: 'IPCM',
                hobbies: 'Swimming, Weight training, Aquariums',
                future: 'Int\'l Business & Finance Pro',
                futureDesc: 'Combining sports discipline with analytics',
                exp: [
                    'Club Officer',
                    'Swimming Instructor',
                    'Lifeguard',
                    'Traffic Mgmt',
                    'Sales'
                ],
                videoId: 'd-gWJpjRbH8',
                imgId: '1E43KV81Ud308WomhE1gH2L2SxXfMUfry'
                }
            ],
            labels: {
                dept: 'Dept',
                hobby: 'Hobbies',
                future: 'Future Career',
                exp: 'Experience & Highlights'
            },
            aiToolsTitle: 'AI Tools Used',
            aiTools: [
                { name: 'Gemini 3.0', url: 'https://gemini.google.com/app' },
                { name: 'Canvas', url: '#' },
                { name: 'Deep Research', url: '#' },
                { name: 'Guide Learning', url: '#' },
                { name: 'ChatGPT 5.2', url: 'https://chatgpt.com/' },
                { name: 'Marketing Research', url: '#' },
                { name: 'Scholar AI', url: '#' },
                { name: 'Scholar GPT', url: '#' },
                { name: 'Notebook LM', url: 'https://notebooklm.google/' },
                { name: 'Otter AI', url: 'https://otter.ai/' },
                { name: 'D-ID Video', url: 'https://www.d-id.com/' }
            ]
            },
            company: {
            title: 'Company Introduction — MediaTek',
            heroHeadline: 'Leading the world with advanced smartphone chip technologies.',
            heroSub: 'MediaTek stands at the forefront of mobile chip innovation, continuously redefining performance and efficiency standards.',
            overviewTitle: 'Company Overview',
            overviewText: 'MediaTek is one of the world’s leading providers of wireless communication and smart device chip solutions, with a strong presence in the smartphone market. Through highly integrated SoC designs, the company supports diverse global brands and market needs.',
            coreValues: [
                { title: 'Innovation', desc: 'Continuously invest in advanced manufacturing processes, AI, and mobile communication technologies to drive the long-term evolution of chip performance, focusing on future application scenarios rather than a single product generation.' },
                { title: 'Co-opetitive', desc: 'Balance standard-setting, supply chain coordination, and market expansion by integrating the dynamic relationship between competition and cooperation within the highly competitive semiconductor industry.' },
                { title: 'Value-Net', desc: 'Value strategic positioning within a value net that includes foundries, end brands, and distribution channels; align supplier capabilities with customer demands to optimize cost and time-to-market.' }
            ],
            buTitle: 'Business Units & Strategic Focus',
            buOverview: 'MediaTek operates a globally scaled and diversified chip portfolio spanning mobile communications, smart devices, and connectivity technologies, enabling strategic flexibility.',
            buSmartphoneTitle: 'Smartphone BU (Business Unit)',
            buSmartphoneDesc: 'Serving as the company\'s core competitive engine, it drives technical cadence and economies of scale. With the Dimensity series at its core, it provides comprehensive coverage of the smartphone market, ranging from flagship to mainstream segments.',
            otherBusTitle: 'Other Business Units',
            otherBus: [
                { name: 'Smart Home & TV', desc: 'Chip solutions for smart TVs and home entertainment systems' },
                { name: 'Internet of Things (IoT)', desc: 'Industrial and consumer applications, strengthening edge computing' },
                { name: 'Connectivity', desc: 'Wi-Fi and Bluetooth technologies expanding cross-device value' }
            ],
            cta: 'Explore MediaTek’s smartphone chip technologies and discover how they shape the future of mobile devices.',
            links: {
                web: 'Official Website',
                stock: 'Stock Info (2454.TW)'
            }
            },
            job: {
            title: 'Job Description',
            subtitle: 'Join the top team, define future communication',
            position: 'Product Marketing Manager (PMM) – Smartphone',
            location: 'Hsinchu, Taiwan | Full-time',
            apply: 'Apply Now',
            jobOverviewTitle: 'Job Overview',
            jobOverview: 'The Smartphone Product Marketing Manager (PMM) is responsible for driving the success of MediaTek’s smartphone SoC product portfolio, including the Dimensity 5G and Helio 4G platforms. This role combines deep technical product understanding, Go-to-Market (GTM) execution, and cross-functional collaboration to empower global Android OEM partners and strengthen MediaTek’s market position.',
            descTitle: 'Key Responsibilities',
            descGroups: [
                {
                title: 'Product and Technical Ownership',
                points: [
                    'Responsible for product planning, marketing promotion, and project design-in of smartphone SoCs.',
                    'Maintain a deep understanding of Dimensity and Helio platforms, focusing on advantages in AI, imaging, gaming, connectivity, and power efficiency.',
                    'Support OEM customers in understanding product differentiation and application scenarios across different market segments.'
                ]
                },
                {
                title: 'Go-to-Market (GTM) Strategy',
                points: [
                    'Define and execute product launch strategies, including positioning, pricing, packaging, and channel strategies.',
                    'Manage end-to-end marketing campaigns and product launch execution across multiple regions.',
                    'Translate product features into clear customer and business value propositions.'
                ]
                },
                {
                title: 'Market Intelligence and Competitive Analysis',
                points: [
                    'Conduct market analysis covering market size, customer segmentation, and buyer pain points.',
                    'Develop competitive analysis and positioning to support the development of product and business strategies.'
                ]
                },
                {
                title: 'Cross-functional Collaboration',
                points: [
                    'Work closely with engineering, product development, sales, operations, finance, and legal teams.',
                    'Manage customer relationships and maintain effective communication and collaboration.',
                    'Provide sales and customer-facing teams with presentations, sales collateral, training, and FAQs.'
                ]
                },
                {
                title: 'Product Roadmap and Execution',
                points: [
                    'Plan and manage the product roadmap and associated marketing and product management activities.',
                    'Coordinate with cross-functional teams to execute product plans and achieve business and financial goals.'
                ]
                }
            ],
            compTitle: 'Learning, Development & Benefits',
            salary: 'Reference range: ≥ TWD 40,000 per month',
            benefitsList: [
                {
                title: 'Learning and Development',
                items: ['Structured training systems and clear learning roadmaps.', 'Diverse learning resources (On-the-Job Training, external courses).', 'Knowledge sharing and research incentive mechanisms.']
                },
                {
                title: 'Employee Benefits & Wellness',
                items: ['Physical & Mental Well-being: Fitness facilities and stress-relief services.', 'Enriched Lifestyle: Arts and cultural activities, travel consulting.', 'Community & Relationships: Family support and social welfare initiatives.', 'Personalized Services: Ticket booking services and daily life assistance.']
                }
            ],
            ksaTitle: 'Competency (KSA)',
            ksa: {
                knowledge: {
                    title: 'KNOWLEDGE',
                    tags: ['Electrical Engineering', 'Computer Science', 'Business'],
                    points: [
                        'Educational background in Electrical Engineering, Computer Science, Business, or related fields.',
                        'In-depth understanding of the smartphone and consumer electronics industries (including 5G/4G SoCs).',
                        'Familiarity with GTM (Go-to-Market) processes, market analysis, and competitive analysis.'
                    ]
                },
                skill: {
                    title: 'SKILLS',
                    tags: ['English Fluency', 'Customer Insight'],
                    points: [
                        'Ability to translate complex technologies into clear market messages and value propositions.',
                        'Strong capabilities in data interpretation, customer insight, and competitive dynamics analysis.',
                        'Fluent in English communication (listening, speaking, reading, and writing).'
                    ]
                },
                attitude: {
                    title: 'ATTITUDE',
                    tags: ['Cross-functional Collaboration', 'Fast-paced & Adaptable'],
                    points: [
                        'Self-motivated and result-oriented, with a strong sense of ownership over product and market outcomes.',
                        'Collaborative spirit with the ability to work effectively with cross-functional and global teams.',
                        'Highly adaptable and willing to learn in a fast-paced, technology-driven environment.'
                    ]
                }
            },
            termTitle: 'Terminology Flashcards',
            terms: [
                { term: 'Project Design-in', def: 'Customer evaluates and integrates MediaTek’s chipset during development.' },
                { term: 'Project Design-win', def: 'Customer officially selects the solution for mass production.' },
                { term: 'Roadmap', def: 'Long-term planning of specs, performance, timelines, and positioning.' },
                { term: 'NTN / NPU / zRAM / SLC', def: 'Key chipset technologies (Non-Terrestrial Network, Neural Processing Unit, etc.).' }
            ],
            ai: {
                title: '✨ AI Career Coach',
                desc: 'Click below to let Gemini generate a mock interview question and advice for this role!',
                btn: 'Generate Interview Question',
                resultTitle: 'Gemini Advice:'
            }
            },
            market: {
            title: 'Market Analysis',
            subtitle: 'A Multidimensional Analysis through the Lens of Market Commonality and Resource Similarity.',
            resourceTitle: 'Resource Configuration',
            tangibleTitle: 'Tangible Resources',
            intangibleTitle: 'Intangible Resources',
            tangiblePoints: [
                'SoC Product Portfolio: Dimensity covers 5G segments from entry-level to flagship; Helio targets the 4G market.',
                'R&D and Design Capabilities: Competitive design expertise in multi-core CPU, GPU, NPU, and integrated Modems.',
                'Fabless Model: Close collaboration with foundries (such as TSMC).'
            ],
            intangiblePoints: [
                'Brand Advantage: Strong brand equity in the cost-to-performance (value-driven) smartphone market.',
                'AI & Multimedia IP: Proprietary IPs that enhance camera, gaming, and user experience.',
                'OEM Partnerships: Extensive global partnerships with Android smartphone brands.',
                'Ecosystem Adoption: Widespread adoption across global Android device models.'
            ],
            matrixTitle: 'Competitor Strategic Positioning Matrix',
            matrixX: 'Resource Similarity',
            matrixY: 'Market Commonality', 
            competitorsList: [
                {
                id: 'qualcomm',
                name: 'Qualcomm',
                mc: 'High',
                rs: 'High-Medium',
                desc: 'Snapdragon 8/7/6/4 families',
                analysis: 'Direct competition across all price segments. Both parties design complex ARM-based SoCs. While Qualcomm leads in flagship performance and Modem technology, MediaTek is highly aggressive in power efficiency and cost.',
                color: 'bg-red-500'
                },
                {
                id: 'samsung',
                name: 'Samsung LSI',
                mc: 'Medium',
                rs: 'Medium',
                desc: 'Exynos Series',
                analysis: 'Moderate market overlap. Competition primarily exists in the mid-range Android phone market, but with different strategies. MediaTek relies on efficient outsourcing, whereas Samsung pursues vertical integration mainly targeted at its own Galaxy devices.',
                color: 'bg-blue-500'
                },
                {
                id: 'unisoc',
                name: 'UNISOC',
                mc: 'Medium',
                rs: 'Medium-Low',
                desc: 'T-series / Entry 5G',
                analysis: 'Overlap in the budget market. UNISOC focuses on cost-optimized entry-level and 4G markets. MediaTek far surpasses them in terms of global OEM partnerships and brand recognition.',
                color: 'bg-purple-500'
                },
                {
                id: 'apple',
                name: 'Apple',
                mc: 'Low',
                rs: 'Low',
                desc: 'A-Series',
                analysis: 'Extremely low direct competition. Apple chips are used exclusively for iPhones (iOS ecosystem), featuring highly closed hardware and software integration, which differs fundamentally from MediaTek’s broad Android strategy.',
                color: 'bg-gray-500'
                }
            ],
            termTitle: 'Market Key Concepts',
            terms: [
                { term: 'Tangible Resources', def: 'Tangible resources refer to physical or financial assets that can be seen, measured, and recorded on a firm’s balance sheet, typically with clear market value. Common Types: Financial resources (cash, stocks, bonds), Physical assets (factories, machinery), Technological assets (IT infrastructure).' },
                { term: 'Intangible Resources', def: 'Intangible resources are non-physical assets that are difficult to measure directly but enable firms to create value and sustain competitive advantage. Common Types: Brand image and goodwill, Patents, trademarks, and copyrights, Organizational culture and managerial capabilities.' },
                { term: 'Market Commonality', def: 'Market commonality refers to the extent to which two or more firms overlap in the same product markets or geographic markets.' },
                { term: 'Resource Similarity', def: 'Resource similarity refers to the degree to which competing firms possess similar resource structures, capabilities, and strategic assets.' }
            ],
            valueNetTitle: 'Value Net - Click nodes for details',
            clickDetails: 'Click for details',
            vnData: [
                {
                id: 'SUPPLIER',
                category: 'SUPPLIER',
                icon: 'Box', // Changed from JSX to string
                color: 'border-blue-500 bg-blue-500/10',
                partners: [
                    { name: 'IP Providers', details: 'Arm Holdings: Provides CPU/GPU architecture licenses, forming the core components of mobile chipsets.' },
                    { name: 'EDA Tools', details: 'Cadence & Synopsys: Provide chip design software and IP licenses, boosting 2nm design productivity (by around 30%) and accelerating verification speed.' },
                    { name: 'Foundry', details: 'TSMC: The sole advanced-process partner (3nm/2nm), responsible for flagship chip manufacturing.' }
                ],
                valueProvided: 'Reciprocal value: MediaTek expands Arm\'s market penetration via 2B+ device shipments; feedback data helps Cadence optimize tools.'
                },
                {
                id: 'CUSTOMER',
                category: 'CUSTOMER',
                icon: 'Users', // Changed from JSX to string
                color: 'border-green-500 bg-green-500/10',
                partners: [
                    { name: 'Smartphone OEMs', details: 'OPPO, Vivo, Xiaomi, Realme, Huawei (5G Market Share ~30%).' }
                ],
                valueProvided: 'Value Provision: Price advantage (high performance/cost), efficiency (Dimensity 9500 reduces power by 37%), helping customers capture mid-range and emerging markets (LATAM, MEA).'
                },
                {
                id: 'COMPETITOR',
                category: 'COMPETITOR',
                icon: 'ShieldCheck', // Changed from JSX to string
                color: 'border-red-500 bg-red-500/10',
                partners: [
                    { name: 'Qualcomm', details: 'Largest competitor. Snapdragon leads in flagship/AI, but faces MediaTek\'s pricing pressure in mid-range.' },
                    { name: 'UNISOC', details: 'Key rival in China\'s mid-low 5G market (T8300), fierce price competition, entered Xiaomi Redmi supply chain.' }
                ],
                valueProvided: 'Dynamic Competition: Qualcomm pushes MediaTek towards high-end/AI; UNISOC forces defense of mid-low market share.'
                },
                {
                id: 'COMPLEMENTOR',
                category: 'COMPLEMENTOR',
                icon: 'Factory', // Changed from JSX to string
                color: 'border-purple-500 bg-purple-500/10',
                partners: [
                    { name: 'TSMC', details: 'Core partner. Provides 3nm N3P process & CoWoS packaging, translating designs into high-performance chips.' },
                    { name: 'ASE', details: 'Packaging accelerator. Provides FC-BGA & advanced packaging, speeding up time-to-market.' },
                    { name: 'KYEC', details: 'Quality gatekeeper. Handles high-complexity testing ensuring yield and stability.' }
                ],
                valueProvided: 'Complementary Value: MediaTek\'s 1B annual shipments provide stable revenue/capacity utilization; joint tech validation (e.g., CoWoS) lowers R&D risk.'
                }
            ],
            ai: {
                title: '✨ AI Strategy Consultant',
                desc: 'Let Gemini generate a strategic analysis summary based on the current market matrix and value net!',
                btn: 'Generate Strategic Insight',
                resultTitle: 'Gemini Strategy Insight:'
            }
            },
            qa: {
            title: 'FAQ & Interactive Q&A',
            subtitle: 'Common Questions & Quiz Challenge',
            faqTitle: 'Frequently Asked Questions (FAQ)',
            faqs: [
                {
                q: 'Why did MediaTek choose to outsource manufacturing, packaging, and testing?',
                a: 'MediaTek chose to outsource wafer manufacturing, packaging and testing to focus on its core competitiveness - IC design. While avoiding high capital investment and risks, leveraging the technology and scale effects of professional foundries, and maintaining production flexibility. Such an outsourcing strategy has helped MediaTek maintain its advantages in capital, risk management, technological innovation and market response speed.'
                },
                {
                q: 'Besides mobile phone chips, what other business units does MediaTek have?',
                a: 'In addition to mobile phone chips, MediaTek also produces chips for home entertainment (smart TVs, set-top boxes), wireless communications, the Internet of Things (IoT), automotive electronics, and the AI ​​server/data center ASIC chips that have been the mainstream development in recent years.'
                },
                {
                q: 'What are the English proficiency requirements for the PMM position?',
                a: 'PMM requires developing global market strategies, collaborating and communicating with international teams (such as those in the US, India, and Japan), coordinating multinational projects, and writing reports and presentations in English. Therefore, we expect job seekers to have excellent oral communication and professional writing skills, and be able to handle international meetings and documents fluently.'
                },
                {
                q: 'What is a mobile phone chip?',
                a: 'The mobile phone chip is the brain and heart of the mobile phone, integrating multiple cores such as CPU, GPU, NPU (AI processor), ISP (image processing unit), and 5G modem, which are responsible for computing, graphics rendering, AI tasks, photography, and networking, ensuring that the mobile phone runs smoothly and can quickly support various functions.'
                },
                {
                q: 'Why is MediaTek\'s pricing lower than Qualcomm\'s?',
                a: 'MediaTek\'s mobile chips (such as the Dimensity series) are priced about 50% lower than Qualcomm\'s Snapdragon chips, primarily due to its R&D strategy and economies of scale, which benefits mobile phone manufacturers. MediaTek relies on Arm standard CPU/GPU designs, eliminating the need for substantial investment in custom cores and significantly reducing R&D costs. Its strategy focuses on cost-effectiveness, avoiding Qualcomm\'s patent fees and brand premium, attracting mid-to-high-end smartphone manufacturers like Xiaomi and OPPO, expanding its market share, and amortizing fixed costs with annual chip shipments exceeding 1 billion units, thus strengthening pricing competitiveness. Profits come from high volume rather than high unit price, achieving economies of scale.'
                }
            ],
            quizTitle: 'Knowledge Challenge',
            aiQuizBtn: '✨ Generate New Quiz', 
            aiTag: '✨ AI Generated', 
            quizzes: [
                {
                category: 'Company',
                question: 'If MediaTek\'s core focus could be summarized in one tech area, what would it be?',
                options: [
                    { text: 'A. Cloud Computing & Data Centers', isCorrect: false },
                    { text: 'B. Smartphone Chip Technology', isCorrect: true },
                    { text: 'C. Automotive Electronic Control Chips', isCorrect: false }
                ],
                explanation: 'Explanation: The entire company introduction describes scenarios starting from smartphones, discussing performance, efficiency, and mobile computing applications, without focusing the main axis on data centers or automotive systems.'
                },
                {
                    category: 'Company',
                    question: 'What does "standing at the forefront of innovation" mentioned in the introduction refer to?',
                    options: [
                    { text: 'A. Mobile Chips', isCorrect: true },
                    { text: 'B. Software Platforms', isCorrect: false },
                    { text: 'C. Semiconductor Equipment Manufacturing', isCorrect: false }
                    ],
                    explanation: 'Explanation: "Forefront of innovation" in the text appears alongside mobile devices and chip technology, semantically emphasizing the evolution of mobile chips themselves, rather than platforms or manufacturing ends.'
                },
                {
                category: 'Company',
                question: 'From an overall positioning perspective, which company role does MediaTek best resemble?',
                options: [
                    { text: 'A. Providing OS and Application Services', isCorrect: false },
                    { text: 'B. Providing Wireless Communication and Smart Device Chip Solutions', isCorrect: true },
                    { text: 'C. Providing Cloud Infrastructure Services', isCorrect: false }
                ],
                explanation: 'Explanation: The company overview repeatedly mentions chips, communications, and integrated solutions, indicating MediaTek\'s position is at the hardware and system level, not software or cloud services.'
                },
                {
                    category: 'Company',
                    question: 'Which description best fits MediaTek\'s approach to SoC design?',
                    options: [
                    { text: 'A. Focusing on single-function modular design', isCorrect: false },
                    { text: 'B. Emphasizing high integration to meet diverse market needs', isCorrect: true },
                    { text: 'C. Primarily low-volume, high-customization products', isCorrect: false }
                    ],
                    explanation: 'Explanation: The introduction explicitly points out "highly integrated" and "diverse markets," indicating the goal of SoC design is universality and scale, rather than single-use or low-volume customization.'
                },
                {
                    category: 'Company',
                    question: 'In terms of industry interaction description, which perspective does MediaTek adopt?',
                    options: [
                    { text: 'A. Viewing other vendors purely as competitors', isCorrect: false },
                    { text: 'B. Only emphasizing cooperative relationships with partners', isCorrect: false },
                    { text: 'C. Both competitive and cooperative relationships exist simultaneously', isCorrect: true }
                    ],
                    explanation: 'Explanation: The company introduction specifically uses the concept of "co-opetitive," explaining that MediaTek operates in the industry not just by competing or cooperating, but with both coexisting.'
                },
                {
                category: 'Job Details',
                question: 'Based on the job content, what category of products is this role primarily responsible for?',
                options: [
                    { text: 'A. IoT and Smart Home Chips', isCorrect: false },
                    { text: 'B. 5G Flagship Smartphone Chips', isCorrect: true },
                    { text: 'C. Wireless Connectivity and Wi-Fi Modules', isCorrect: false }
                ],
                explanation: 'Explanation: The job description directly points to the Smartphone BU and 5G flagship product lines, showing this role focuses on high-end smartphone chips.'
                },
                {
                    category: 'Job Details',
                    question: 'Which stage of the product lifecycle does this role\'s involvement most closely match?',
                    options: [
                    { text: 'A. From manufacturing to shipping', isCorrect: false },
                    { text: 'B. From spec definition to Go-to-Market (GTM)', isCorrect: true },
                    { text: 'C. From marketing planning to brand communication', isCorrect: false }
                    ],
                    explanation: 'Explanation: The job content clearly mentions spec definition and GTM, meaning this role spans product planning and market introduction, not manufacturing or pure marketing.'
                },
                {
                    category: 'Job Details',
                    question: 'In the market analysis section, which competitors are specifically named as needing attention?',
                    options: [
                    { text: 'A. Samsung, Sony', isCorrect: false },
                    { text: 'B. Qualcomm, Apple', isCorrect: true },
                    { text: 'C. Google, Microsoft', isCorrect: false }
                    ],
                    explanation: 'Explanation: The job description explicitly lists Qualcomm and Apple, indicating these two are viewed as the most critical rivals in the Smartphone SoC market.'
                },
                {
                category: 'Market Analysis',
                question: 'In the classification of resource configuration, which item belongs to "tangible, directly allocable" resources?',
                options: [
                    { text: 'A. OEM Partnerships', isCorrect: false },
                    { text: 'B. Brand Strength', isCorrect: false },
                    { text: 'C. SoC Product Portfolio', isCorrect: true }
                ],
                explanation: 'Explanation: The SoC product itself is a concretely existing, manageable resource, thus classified as a tangible resource, rather than a relationship or intellectual property.'
                },
                {
                    category: 'Market Analysis',
                    question: 'Which market does the Helio series primarily correspond to in the overall product configuration?',
                    options: [
                    { text: 'A. 5G Flagship Market', isCorrect: false },
                    { text: 'B. 5G Entry-to-Flagship', isCorrect: false },
                    { text: 'C. 4G Market', isCorrect: true }
                    ],
                    explanation: 'Explanation: The analysis clearly links the Helio series with the 4G market, distinguishing it from other product lines focused on 5G.'
                },
                {
                    category: 'Market Analysis',
                    question: 'Which of the following fits the characteristic of "Intangible Resources"?',
                    options: [
                    { text: 'A. Fabless Model', isCorrect: false },
                    { text: 'B. Brand Advantage (Cost-to-Performance)', isCorrect: true },
                    { text: 'C. Multi-core CPU, GPU, NPU Integration Capability', isCorrect: false }
                    ],
                    explanation: 'Explanation: Brand image and cost-performance ratio belong to advantages at the market perception level, cannot be directly quantified, and are thus classified as intangible resources.'
                },
                {
                    category: 'Market Analysis',
                    question: 'What is the role of OPPO, Vivo, and Xiaomi in the Value Net?',
                    options: [
                    { text: 'A. Competitors', isCorrect: false },
                    { text: 'B. Customers', isCorrect: true },
                    { text: 'C. Suppliers', isCorrect: false }
                    ],
                    explanation: 'Explanation: These brands are placed in the position of end adopters in the value net, representing their role as customers using MediaTek chips.'
                },
                {
                    category: 'Market Analysis',
                    question: 'How are TSMC, ARM, and Google positioned in the Value Net?',
                    options: [
                    { text: 'A. Competitors', isCorrect: false },
                    { text: 'B. Suppliers', isCorrect: false },
                    { text: 'C. Complementors', isCorrect: true }
                    ],
                    explanation: 'Explanation: The processes, IPs, or platforms provided by these companies can enhance the overall value of MediaTek products, so they are viewed as complementors.'
                },
                {
                    category: 'Market Analysis',
                    question: 'What is the main role of IP Providers and EDA Tools in the Value Net?',
                    options: [
                    { text: 'A. Customers', isCorrect: false },
                    { text: 'B. Suppliers', isCorrect: true },
                    { text: 'C. Complementors', isCorrect: false }
                    ],
                    explanation: 'Explanation: IP and EDA tools are indispensable input items for chip design, thus classified as suppliers in the value net.'
                }
            ]
            }
        }
};

const getContent = (lang) => {
  const data = content[lang];
  if (data) return data;
  return content['zh'];
};

const Navbar = ({ 
  lang, 
  setLang, 
  page, 
  setPage,
  isDark,
  setIsDark
}) => {
  const [isOpen, setIsOpen] = useState(false);
  const t = getContent(lang).nav;

  const navItems = [
    { name: t.team, id: 'team', icon: <Users size={18} /> },
    { name: t.company, id: 'company', icon: <Briefcase size={18} /> },
    { name: t.job, id: 'job', icon: <Award size={18} /> },
    { name: t.market, id: 'market', icon: <TrendingUp size={18} /> },
    { name: t.qa, id: 'qa', icon: <MessageCircle size={18} /> },
  ];

  return (
    <nav className={`fixed top-0 w-full z-50 backdrop-blur-md border-b shadow-lg transition-all duration-300 ${isDark ? 'bg-slate-950/80 border-slate-800' : 'bg-white/80 border-slate-200'}`}>
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex items-center justify-between h-20">
          <button onClick={() => setPage('home')} className="flex items-center space-x-3 group focus:outline-none">
            <div className={`w-10 h-10 rounded-lg overflow-hidden p-1 border transition-colors ${isDark ? 'bg-white/10 border-orange-500/30 group-hover:border-orange-500' : 'bg-orange-50 border-orange-200 group-hover:border-orange-500'}`}>
                 <img src="https://lh3.googleusercontent.com/d/1soCTGTOnOr9vGknGggecD9m4A50nEdjM" alt="Logo" className="w-full h-full object-contain" />
            </div>
            <span className={`font-bold text-xl tracking-wider transition-colors ${isDark ? 'text-white group-hover:text-orange-400' : 'text-slate-900 group-hover:text-orange-600'}`}>MDK<span className="text-orange-500">.Strategy</span></span>
          </button>
          
          <div className="hidden md:flex items-center space-x-6">
            {page !== 'home' && (
              <div className="flex items-baseline space-x-2 mr-6">
                {navItems.map((item) => (
                  <button key={item.id} onClick={() => setPage(item.id)} className={`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-all ${
                      page === item.id 
                      ? (isDark ? 'text-white bg-slate-800 border border-slate-700' : 'text-slate-900 bg-slate-100 border border-slate-200') 
                      : (isDark ? 'text-gray-400 hover:text-orange-400 hover:bg-slate-900' : 'text-slate-500 hover:text-orange-600 hover:bg-slate-50')
                  }`}>
                    {item.icon} {item.name}
                  </button>
                ))}
              </div>
            )}
            
            <div className="flex items-center gap-3 border-l pl-6 border-slate-700/50">
               <button 
                  onClick={() => setIsDark(!isDark)} 
                  className={`p-2 rounded-full transition-all ${isDark ? 'text-yellow-400 hover:bg-slate-800' : 'text-slate-600 hover:bg-slate-100 hover:text-orange-500'}`}
               >
                  {isDark ? <Sun size={20} /> : <Moon size={20} />}
               </button>
               <button onClick={() => setLang(lang === 'zh' ? 'en' : 'zh')} className={`flex items-center gap-2 px-4 py-2 rounded-full border transition-all text-sm font-medium ${isDark ? 'border-slate-700 bg-slate-900 text-gray-300 hover:border-orange-500 hover:text-white' : 'border-slate-200 bg-white text-slate-600 hover:border-orange-500 hover:text-orange-600'}`}>
                <Globe size={16} /> {content[lang].nav.langLabel}
               </button>
            </div>
          </div>
          
          <div className="-mr-2 flex md:hidden gap-4 items-center">
             <button 
                  onClick={() => setIsDark(!isDark)} 
                  className={`p-2 rounded-full transition-all ${isDark ? 'text-yellow-400' : 'text-slate-600'}`}
               >
                  {isDark ? <Sun size={20} /> : <Moon size={20} />}
            </button>
            <button onClick={() => setLang(lang === 'zh' ? 'en' : 'zh')} className={`p-2 rounded-md flex items-center gap-1 ${isDark ? 'text-gray-400 hover:text-white' : 'text-slate-600 hover:text-slate-900'}`}>
                <Globe size={16} /> <span className="text-sm font-medium">{content[lang].nav.langLabel}</span>
            </button>
            {page !== 'home' && (
              <button onClick={() => setIsOpen(!isOpen)} className={`inline-flex items-center justify-center p-2 rounded-md focus:outline-none ${isDark ? 'text-gray-400 hover:text-white hover:bg-slate-800' : 'text-slate-600 hover:text-slate-900 hover:bg-slate-100'}`}>
                {isOpen ? <X className="h-6 w-6" /> : <Menu className="h-6 w-6" />}
              </button>
            )}
          </div>
        </div>
      </div>
      {isOpen && page !== 'home' && (
        <div className={`md:hidden border-b animate-fade-in-down ${isDark ? 'bg-slate-900 border-slate-800' : 'bg-white border-slate-200'}`}>
          <div className="px-2 pt-2 pb-3 space-y-1 sm:px-3">
            {navItems.map((item) => (
              <button key={item.id} onClick={() => { setPage(item.id); setIsOpen(false); }} className={`flex items-center gap-3 block px-3 py-3 rounded-md text-base font-medium w-full text-left ${
                  page === item.id 
                  ? (isDark ? 'bg-slate-800 text-orange-400' : 'bg-slate-100 text-orange-600') 
                  : (isDark ? 'text-gray-300 hover:text-orange-500' : 'text-slate-600 hover:text-orange-600')
              }`}>
                {item.icon} {item.name}
              </button>
            ))}
          </div>
        </div>
      )}
    </nav>
  );
};

const HomePage = ({ lang, setPage, isDark }) => {
  const t = getContent(lang).home;
  const menuCards = [
    { id: 'team', icon: <Users className="w-8 h-8"/>, title: getContent(lang).nav.team, desc: 'Motivation & 4 Members', color: 'from-blue-600 to-cyan-500' },
    { id: 'company', icon: <Briefcase className="w-8 h-8"/>, title: getContent(lang).nav.company, desc: 'MediaTek & Smartphone BU', color: 'from-orange-600 to-red-500' },
    { id: 'job', icon: <Award className="w-8 h-8"/>, title: getContent(lang).nav.job, desc: 'PMM Role & KSA', color: 'from-purple-600 to-pink-500' },
    { id: 'market', icon: <TrendingUp className="w-8 h-8"/>, title: getContent(lang).nav.market, desc: 'MC-RS & Value Net', color: 'from-emerald-600 to-green-500' },
    { id: 'qa', icon: <MessageCircle className="w-8 h-8"/>, title: getContent(lang).nav.qa, desc: 'Quiz Challenge', color: 'from-amber-500 to-yellow-500' },
  ];
  return (
    <div className={`min-h-screen flex flex-col justify-center items-center pt-20 px-4 relative overflow-hidden transition-colors duration-500 ${isDark ? 'bg-slate-950' : 'bg-slate-50'}`}>
      <div className={`absolute inset-0 z-0 ${isDark ? 'bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-slate-800 via-slate-950 to-black opacity-80' : 'bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-white via-slate-100 to-slate-200 opacity-60'}`}></div>
      <div className="absolute w-[500px] h-[500px] bg-orange-600/10 rounded-full blur-[100px] top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-0 animate-pulse-slow"></div>
      <div className="relative z-10 text-center max-w-4xl mx-auto mb-12">
        <div className={`inline-flex items-center px-4 py-1.5 rounded-full border text-sm font-semibold mb-8 animate-fade-in-up ${isDark ? 'border-orange-500/30 bg-orange-500/10 text-orange-400' : 'border-orange-200 bg-white text-orange-600 shadow-sm'}`}>
          <span className="flex h-2 w-2 rounded-full bg-orange-500 mr-2 animate-ping"></span> {t.tagline}
        </div>
        <h1 className={`text-5xl md:text-7xl font-extrabold tracking-tight mb-6 animate-fade-in-up delay-100 leading-tight ${isDark ? 'text-white' : 'text-slate-900'}`}>
          MediaTek <br/>
          <span className="text-transparent bg-clip-text bg-gradient-to-r from-orange-400 via-amber-500 to-yellow-500">
            {t.title}
          </span>
        </h1>
        <p className={`text-xl max-w-2xl mx-auto animate-fade-in-up delay-200 ${isDark ? 'text-gray-400' : 'text-slate-600'}`}>{t.subtitle}</p>
      </div>
      <div className="relative z-10 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 max-w-7xl w-full px-4 animate-fade-in-up delay-300">
        {menuCards.map((card) => (
          <button key={card.id} onClick={() => setPage(card.id)} className={`group relative h-48 rounded-2xl border backdrop-blur-sm p-6 flex flex-col items-center justify-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl overflow-hidden ${
              isDark 
              ? 'bg-slate-900/50 border-slate-800 hover:bg-slate-800 hover:border-slate-600' 
              : 'bg-white/60 border-slate-200 hover:bg-white hover:border-orange-200 shadow-sm'
          }`}>
            <div className={`absolute inset-0 bg-gradient-to-br ${card.color} opacity-0 group-hover:opacity-10 transition-opacity duration-300`}></div>
            <div className={`p-4 rounded-full mb-4 group-hover:scale-110 transition-transform duration-300 ${isDark ? 'bg-slate-800 text-white' : 'bg-slate-100 text-slate-700'}`}>{card.icon}</div>
            <h3 className={`text-lg font-bold mb-1 ${isDark ? 'text-white' : 'text-slate-900'}`}>{card.title}</h3>
            <p className={`text-xs ${isDark ? 'text-gray-400' : 'text-slate-500'}`}>{card.desc}</p>
            <div className="absolute bottom-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300"><ArrowRight className={`w-5 h-5 ${isDark ? 'text-white/50' : 'text-slate-400'}`} /></div>
          </button>
        ))}
      </div>
      <div className={`mt-16 text-xs font-mono animate-fade-in ${isDark ? 'text-slate-600' : 'text-slate-400'}`}>SYSTEM READY // MEDIA_TEK_PROJECT_V2.0</div>
    </div>
  );
};

const VideoModal = ({ videoId, onClose }) => {
  if (!videoId) return null;
  return (
    <div className="fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in">
      <div className="relative w-full max-w-4xl bg-slate-900 rounded-2xl overflow-hidden border border-slate-700 shadow-2xl">
        <button onClick={onClose} className="absolute top-4 right-4 z-10 p-2 bg-slate-800/80 rounded-full text-white hover:bg-red-500 transition-colors"><X className="w-6 h-6" /></button>
        <div className="aspect-video w-full"><iframe width="100%" height="100%" src={`https://www.youtube.com/embed/${videoId}?autoplay=1`} title="YouTube video player" frameBorder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowFullScreen></iframe></div>
      </div>
      <div className="absolute inset-0 -z-10" onClick={onClose}></div>
    </div>
  );
};

const Flashcard = ({ term, def, isDark }) => {
  const [isFlipped, setIsFlipped] = useState(false);
  return (
    <div className="group perspective-1000 w-full h-40 cursor-pointer" onClick={() => setIsFlipped(!isFlipped)}>
      <div className="relative w-full h-full transition-transform duration-500 transform-style-3d" style={{ transformStyle: 'preserve-3d', transform: isFlipped ? 'rotateY(180deg)' : 'rotateY(0deg)' }}>
        <div className={`absolute inset-0 w-full h-full rounded-xl border flex flex-col items-center justify-center p-4 backface-hidden shadow-lg transition-colors ${
            isDark 
            ? 'bg-slate-800 border-slate-600 group-hover:border-orange-500/50' 
            : 'bg-white border-slate-200 group-hover:border-orange-400 shadow-sm'
        }`} style={{ backfaceVisibility: 'hidden' }}>
           <h5 className={`text-xl font-bold text-center text-sm sm:text-base leading-tight ${isDark ? 'text-white' : 'text-slate-900'}`}>{term}</h5>
           <p className={`text-xs mt-2 flex items-center gap-1 ${isDark ? 'text-gray-500' : 'text-slate-400'}`}><RotateCcw className="w-3 h-3" /> 點擊翻轉 (Tap to flip)</p>
        </div>
        <div className="absolute inset-0 w-full h-full bg-gradient-to-br from-orange-600 to-amber-700 rounded-xl border border-orange-500 flex flex-col items-center justify-center p-4 backface-hidden shadow-xl" style={{ backfaceVisibility: 'hidden', transform: 'rotateY(180deg)' }}>
           <p className="text-white text-center font-medium leading-relaxed text-sm sm:text-base overflow-y-auto max-h-full scrollbar-thin">{def}</p>
        </div>
      </div>
    </div>
  );
};

const TeamSection = ({ lang, isDark }) => {
  const t = getContent(lang).team;
  const [expandedMember, setExpandedMember] = useState(null);
  const [aiSlogan, setAiSlogan] = useState('');
  const [isGenerating, setIsGenerating] = useState(false);

  const handleGenerateSlogan = async () => {
    setIsGenerating(true);
    const members = t.members.map((m) => `${m.name} (${m.hobbies})`).join(', ');
    const prompt = `Based on these team members and their hobbies: ${members}, generate a catchy and inspiring team slogan in Traditional Chinese. Keep it short (under 20 chars).`;
    const slogan = await callGemini(prompt);
    setAiSlogan(slogan);
    setIsGenerating(false);
  };

  return (
    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 animate-fade-in relative">
      <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <div className="lg:col-span-1">
          <div className={`backdrop-blur p-8 rounded-3xl border shadow-xl transition-all duration-300 hover:shadow-2xl sticky top-24 group ${
              isDark 
              ? 'bg-slate-800/80 border-slate-700 hover:border-orange-500/50' 
              : 'bg-white/80 border-slate-200 hover:border-orange-400'
          }`}>
            <div className="flex justify-center mb-6 w-full">
                 <img 
                    src="https://lh3.googleusercontent.com/d/1soCTGTOnOr9vGknGggecD9m4A50nEdjM" 
                    alt="MediaTek Project Logo" 
                    className={`w-full max-w-[600px] h-auto object-contain rounded-lg shadow-2xl border p-2 transform group-hover:scale-[1.02] transition-transform duration-500 ${isDark ? 'border-orange-500/30 bg-white/5' : 'border-orange-200 bg-slate-50'}`}
                 />
            </div>
            <h3 className="text-2xl font-bold text-orange-400 mb-6 flex items-center gap-2 relative z-10">
              <Target className="w-6 h-6" /> {t.motivationTitle}
            </h3>
            <p className={`leading-relaxed text-left relative z-10 mb-6 ${isDark ? 'text-gray-300' : 'text-slate-600'}`}>
              {t.motivationText}
            </p>
            
            {/* AI Slogan Generator */}
            <div className={`pt-6 border-t ${isDark ? 'border-slate-700' : 'border-slate-200'}`}>
               <button 
                  onClick={handleGenerateSlogan}
                  disabled={isGenerating}
                  className="w-full py-3 px-4 bg-gradient-to-r from-orange-600 to-amber-600 hover:from-orange-500 hover:to-amber-500 text-white rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50"
               >
                  {isGenerating ? <Loader2 className="w-5 h-5 animate-spin" /> : <Sparkles className="w-5 h-5 text-yellow-300" />}
                  {t.aiSloganBtn || 'Generate AI Slogan'}
               </button>
               {aiSlogan && (
                 <div className={`mt-4 p-4 rounded-xl border animate-fade-in ${isDark ? 'bg-slate-900/50 border-orange-500/30' : 'bg-orange-50 border-orange-200'}`}>
                    <h4 className="text-xs font-bold text-orange-400 uppercase mb-2">{t.aiSloganTitle || 'AI Slogan:'}</h4>
                    <p className={`font-medium text-lg ${isDark ? 'text-white' : 'text-slate-900'}`}>"{aiSlogan}"</p>
                 </div>
               )}
            </div>
          </div>
        </div>
        <div className="lg:col-span-2 grid grid-cols-1 gap-4">
            {t.members.map((member, i) => (
              <div key={i} className={`rounded-2xl border overflow-hidden transition-all duration-300 hover:border-orange-500 ${
                  expandedMember === i 
                  ? (isDark ? 'bg-slate-800 ring-2 ring-orange-500/30 border-slate-700' : 'bg-white ring-2 ring-orange-200 border-slate-300') 
                  : (isDark ? 'bg-slate-800/60 border-slate-700 hover:bg-slate-750' : 'bg-white/60 border-slate-200 hover:bg-white')
              }`} onClick={() => setExpandedMember(expandedMember === i ? null : i)}>
                <div className="p-6 flex flex-col md:flex-row gap-6 cursor-pointer">
                    <div className="flex flex-col items-center gap-3 flex-shrink-0">
                        <img src={`https://lh3.googleusercontent.com/d/${member.imgId}`} alt={member.name} className={`w-20 h-20 rounded-full object-cover shadow-lg transition-transform border-2 ${isDark ? 'border-slate-600' : 'border-slate-100'} ${expandedMember === i ? 'border-orange-500 scale-105' : ''}`} />
                        <a href={`https://youtu.be/${member.videoId}`} target="_blank" rel="noopener noreferrer" onClick={(e) => e.stopPropagation()} className="flex items-center gap-1 px-3 py-1 bg-red-600/90 hover:bg-red-700 text-white text-xs font-bold rounded-full transition-all shadow-md hover:scale-105"><Youtube className="w-3 h-3" /> YouTube</a>
                    </div>
                    <div className="flex-1 flex flex-col justify-center">
                        <div className="flex justify-between items-start">
                            <div>
                                <h4 className={`font-bold text-xl flex items-center gap-2 ${isDark ? 'text-white' : 'text-slate-900'}`}>{lang === 'zh' ? member.zhName : member.name}<span className={`text-xs font-normal px-2 py-0.5 rounded-full border ${isDark ? 'text-gray-500 bg-slate-900 border-slate-700' : 'text-slate-500 bg-slate-100 border-slate-200'}`}>{member.age} yrs</span></h4>
                                <div className={`text-sm flex items-center gap-1 mt-1 ${isDark ? 'text-gray-400' : 'text-slate-500'}`}><GraduationCap className="w-3 h-3" /> {member.dept}</div>
                            </div>
                            <div className={`p-2 rounded-full transition-transform duration-300 ${isDark ? 'bg-slate-700/50 text-gray-400' : 'bg-slate-100 text-slate-400'} ${expandedMember === i ? 'rotate-180 bg-orange-500/20 text-orange-500' : ''}`}><ChevronDown className="w-5 h-5" /></div>
                        </div>
                        <div className={`mt-2 text-sm italic ${isDark ? 'text-gray-400' : 'text-slate-400'}`}>{t.clickToExpand}</div>
                    </div>
                </div>
                <div className={`px-6 pb-6 pt-0 transition-all duration-300 overflow-hidden ${expandedMember === i ? 'max-h-[800px] opacity-100' : 'max-h-0 opacity-0'}`}>
                    <div className={`pt-4 border-t space-y-4 ${isDark ? 'border-slate-700' : 'border-slate-100'}`}>
                         <div className={`p-3 rounded-lg border-l-2 border-orange-500 ${isDark ? 'bg-slate-900/50' : 'bg-slate-50'}`}>
                             <div className="text-xs text-orange-400 font-bold uppercase tracking-wider mb-1">{t.labels.future}</div>
                             <div className={`font-medium ${isDark ? 'text-white' : 'text-slate-900'}`}>{member.future}</div>
                             {member.futureDesc && <div className={`text-xs mt-1 ${isDark ? 'text-gray-500' : 'text-slate-500'}`}>{member.futureDesc}</div>}
                         </div>
                         <div className="grid md:grid-cols-2 gap-4 text-sm">
                             <div><h5 className={`font-bold mb-2 flex items-center gap-1 ${isDark ? 'text-gray-400' : 'text-slate-600'}`}><Sparkles className="w-3 h-3 text-yellow-500" /> {t.labels.hobby}</h5><p className={`${isDark ? 'text-gray-300' : 'text-slate-700'}`}>{member.hobbies}</p></div>
                             <div><h5 className={`font-bold mb-2 flex items-center gap-1 ${isDark ? 'text-gray-400' : 'text-slate-600'}`}><CheckCircle className="w-3 h-3 text-green-500" /> {t.labels.exp}</h5><ul className="space-y-2">{Array.isArray(member.exp) ? member.exp.map((item, idx) => (<li key={idx} className={`flex items-start gap-2 text-xs ${isDark ? 'text-gray-300' : 'text-slate-700'}`}><span className="w-1.5 h-1.5 rounded-full bg-slate-500 mt-1.5 flex-shrink-0"></span><span>{item}</span></li>)) : <li className={`text-xs ${isDark ? 'text-gray-300' : 'text-slate-700'}`}>{member.exp}</li>}</ul></div>
                         </div>
                    </div>
                </div>
              </div>
            ))}
        </div>
      </div>
       <div className={`mt-20 pt-10 border-t ${isDark ? 'border-slate-800' : 'border-slate-200'}`}>
            <h4 className={`text-center font-bold mb-6 flex items-center justify-center gap-2 ${isDark ? 'text-gray-400' : 'text-slate-600'}`}>
                <Wrench className="w-4 h-4" /> {t.aiToolsTitle}
            </h4>
            <div className="flex flex-wrap justify-center gap-4">
                {t.aiTools.map((tool, idx) => (
                    <a 
                        key={idx} 
                        href={tool.url !== '#' ? tool.url : undefined} 
                        target={tool.url !== '#' ? "_blank" : undefined}
                        rel="noopener noreferrer"
                        className={`px-4 py-2 rounded-full border text-xs transition-colors flex items-center gap-2 cursor-pointer ${
                            isDark 
                            ? 'bg-slate-900 border-slate-700 text-gray-300 hover:border-orange-500 hover:text-white' 
                            : 'bg-white border-slate-200 text-slate-600 hover:border-orange-500 hover:text-orange-600 hover:shadow-sm'
                        }`}
                    >
                        {tool.name}
                        {tool.url !== '#' && <ExternalLink className="w-3 h-3 opacity-50" />}
                    </a>
                ))}
            </div>
        </div>
    </div>
  );
};

// ... (CompanySection and JobSection same as before) ...
const CompanySection = ({ lang, isDark }) => {
  const t = getContent(lang).company;
  const getIcon = (index) => { switch(index) { case 0: return <Lightbulb className="w-6 h-6 text-yellow-500" />; case 1: return <Network className="w-6 h-6 text-blue-500" />; case 2: return <Layers className="w-6 h-6 text-green-500" />; default: return <Cpu />; } }
  const getBuIcon = (index) => { switch(index) { case 0: return <Tv className="w-5 h-5" />; case 1: return <Cpu className="w-5 h-5" />; case 2: return <Wifi className="w-5 h-5" />; default: return <Cpu />; } }
  return (
    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 animate-fade-in space-y-16">
        <div className="text-center max-w-4xl mx-auto">
            <h2 className={`text-4xl font-bold mb-6 flex items-center justify-center gap-3 ${isDark ? 'text-white' : 'text-slate-900'}`}><span className="bg-orange-500/20 p-2 rounded-lg flex items-center justify-center animate-bounce-slow"><Briefcase className="text-orange-500 w-8 h-8" /></span>{t.title}</h2>
            <h3 className="text-2xl font-semibold text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-amber-200 mb-4 animate-pulse-slow">{t.heroHeadline}</h3>
            <p className={`text-lg leading-relaxed ${isDark ? 'text-gray-400' : 'text-slate-600'}`}>{t.heroSub}</p>
        </div>
        <div className="grid lg:grid-cols-1 gap-12">
            <div className={`p-8 rounded-3xl border transition-all duration-500 hover:shadow-2xl ${isDark ? 'bg-slate-900/60 border-slate-700 hover:border-orange-500/30' : 'bg-white border-slate-200 hover:border-orange-400 shadow-lg'}`}>
                <div className={`flex flex-col md:flex-row md:items-center justify-between mb-6 border-b pb-4 gap-4 ${isDark ? 'border-slate-700' : 'border-slate-100'}`}>
                    <h4 className={`text-xl font-bold ${isDark ? 'text-white' : 'text-slate-900'}`}>{t.overviewTitle}</h4>
                    <div className="flex gap-3">
                        <a href="https://www.mediatek.com/" target="_blank" rel="noopener noreferrer" className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 text-sm font-medium border shadow-lg group ${isDark ? 'bg-slate-800 hover:bg-orange-600 text-white border-slate-600 hover:border-orange-500' : 'bg-white hover:bg-orange-50 text-slate-700 border-slate-200 hover:border-orange-400'}`}><Globe className="w-4 h-4 group-hover:rotate-180 transition-transform duration-500" />{t.links?.web || 'Official Website'}</a>
                        <a href="https://tw.stock.yahoo.com/quote/2454.TW" target="_blank" rel="noopener noreferrer" className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 text-sm font-medium border shadow-lg group ${isDark ? 'bg-slate-800 hover:bg-green-600 text-white border-slate-600 hover:border-green-500' : 'bg-white hover:bg-green-50 text-slate-700 border-slate-200 hover:border-green-400'}`}><BarChart2 className="w-4 h-4 group-hover:scale-110 transition-transform" />{t.links?.stock || 'Stock Info'}</a>
                    </div>
                </div>
                <p className={`leading-relaxed mb-8 ${isDark ? 'text-gray-300' : 'text-slate-700'}`}>{t.overviewText}</p>
                <div className="grid md:grid-cols-3 gap-6">
                    {t.coreValues.map((val, idx) => (
                        <div key={idx} className={`p-6 rounded-2xl border transition-all duration-300 hover:-translate-y-2 hover:shadow-xl group ${isDark ? 'bg-slate-800 border-slate-700 hover:border-orange-500/50' : 'bg-slate-50 border-slate-100 hover:bg-white hover:border-orange-300'}`}>
                            <div className={`mb-4 w-12 h-12 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300 ${isDark ? 'bg-slate-900 group-hover:bg-orange-500/10' : 'bg-white shadow-sm group-hover:bg-orange-50'}`}>{getIcon(idx)}</div>
                            <h5 className={`font-bold text-lg mb-2 ${isDark ? 'text-white' : 'text-slate-900'}`}>{val.title}</h5>
                            <p className={`text-sm leading-relaxed ${isDark ? 'text-gray-400' : 'text-slate-600'}`}>{val.desc}</p>
                        </div>
                    ))}
                </div>
            </div>
        </div>
        <div className="space-y-8">
            <div className="text-center"><h2 className={`text-3xl font-bold mb-4 ${isDark ? 'text-white' : 'text-slate-900'}`}>{t.buTitle}</h2><p className={`max-w-2xl mx-auto ${isDark ? 'text-gray-400' : 'text-slate-600'}`}>{t.buOverview}</p></div>
            <div className="grid lg:grid-cols-12 gap-8">
                <div className={`lg:col-span-7 p-8 rounded-3xl border-l-4 border-orange-500 shadow-xl relative overflow-hidden group hover:scale-[1.01] transition-transform duration-500 ${isDark ? 'bg-gradient-to-br from-slate-800 to-slate-900' : 'bg-gradient-to-br from-white to-slate-50 border border-slate-100'}`}>
                     <div className="absolute top-0 right-0 p-32 bg-orange-500/5 rounded-full blur-3xl group-hover:bg-orange-500/10 transition-colors duration-500 animate-pulse-slow"></div>
                     <div className="relative z-10">
                        <div className="flex items-center gap-3 mb-4"><div className="p-2 bg-orange-500/20 rounded-lg"><Smartphone className="w-8 h-8 text-orange-500" /></div><h3 className={`text-2xl font-bold ${isDark ? 'text-white' : 'text-slate-900'}`}>{t.buSmartphoneTitle}</h3></div>
                        <p className={`text-lg leading-relaxed mb-6 ${isDark ? 'text-gray-300' : 'text-slate-700'}`}>{t.buSmartphoneDesc}</p>
                        <div className="inline-flex gap-2 flex-wrap">{['Dimensity 9400', '5G / 6G', 'Generative AI'].map((tag, i) => (<span key={i} className={`px-3 py-1 rounded-lg text-orange-400 text-xs font-bold border transition-colors cursor-default ${isDark ? 'bg-slate-950 border-orange-500/30 hover:bg-orange-500 hover:text-white' : 'bg-white border-orange-200 text-orange-600 hover:bg-orange-500 hover:text-white'}`}>{tag}</span>))}</div>
                     </div>
                </div>
                <div className="lg:col-span-5 space-y-4">
                    <h4 className={`font-bold uppercase tracking-wider text-sm mb-2 ml-1 ${isDark ? 'text-gray-400' : 'text-slate-500'}`}>{t.otherBusTitle}</h4>
                    {t.otherBus.map((bu, idx) => (
                        <div key={idx} className={`p-4 rounded-xl border flex items-start gap-4 transition-all duration-300 hover:translate-x-1 cursor-default ${isDark ? 'bg-slate-800/50 border-slate-700 hover:bg-slate-800 hover:border-slate-500' : 'bg-white border-slate-200 hover:bg-slate-50 hover:border-orange-300 shadow-sm'}`}>
                            <div className={`mt-1 p-2 rounded-lg ${isDark ? 'bg-slate-700 text-gray-300' : 'bg-slate-100 text-slate-600'}`}>{getBuIcon(idx)}</div>
                            <div><h5 className={`font-bold ${isDark ? 'text-white' : 'text-slate-900'}`}>{bu.name}</h5><p className={`text-xs ${isDark ? 'text-gray-400' : 'text-slate-500'}`}>{bu.desc}</p></div>
                        </div>
                    ))}
                </div>
            </div>
        </div>
        <div className={`rounded-2xl p-8 text-center border relative overflow-hidden group transition-all duration-300 ${isDark ? 'bg-orange-600/10 border-orange-500/20 hover:border-orange-500/50' : 'bg-orange-50 border-orange-200 hover:border-orange-400'}`}>
            <div className="absolute inset-0 bg-gradient-to-r from-transparent via-orange-500/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"></div>
            <p className={`text-lg font-medium mb-0 relative z-10 ${isDark ? 'text-orange-200' : 'text-orange-800'}`}>{t.cta}</p>
        </div>
    </div>
  );
};

const JobSection = ({ lang, isDark }) => {
  const t = getContent(lang).job;
  const [aiAdvice, setAiAdvice] = useState('');
  const [isGeneratingAdvice, setIsGeneratingAdvice] = useState(false);

  const handleGenerateAdvice = async () => {
    setIsGeneratingAdvice(true);
    const prompt = `Context: Job role is Product Marketing Manager at MediaTek Smartphone BU. Responsibilities: ${content[lang].job.descGroups.map(g => g.points.join(' ')).join(' ')}. Task: Generate 1 challenging interview question and 1 key tip for answering it. Language: ${lang === 'zh' ? 'Traditional Chinese' : 'English'}.`;
    const advice = await callGemini(prompt);
    setAiAdvice(advice);
    setIsGeneratingAdvice(false);
  };

  return (
    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 animate-fade-in">
        <div className={`backdrop-blur rounded-3xl overflow-hidden border shadow-2xl transition-all duration-500 hover:-translate-y-1 ${isDark ? 'bg-slate-800/80 border-slate-700 hover:border-orange-500/30 hover:shadow-orange-500/20' : 'bg-white border-slate-200 hover:border-orange-400 shadow-xl'}`}>
          <div className="bg-gradient-to-r from-orange-600 to-amber-700 px-8 py-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-6 relative overflow-hidden group">
            <div className="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"></div>
            <div className="relative z-10">
              <h3 className="text-3xl font-bold text-white">{t.position}</h3>
              <p className="text-orange-100 mt-2 font-medium flex items-center gap-2"><span className="w-2 h-2 bg-white rounded-full block animate-pulse"></span> {t.location}</p>
            </div>
            <a href="https://www.104.com.tw/job/8b4gk?jobsource=joblist_search" target="_blank" rel="noopener noreferrer" className="relative z-10 bg-white text-orange-700 px-8 py-3 rounded-xl font-bold hover:bg-gray-100 transition-all shadow-lg transform hover:-translate-y-1 hover:shadow-xl hover:scale-105">{t.apply}</a>
          </div>
          <div className="p-8">
            <div className={`mb-10 p-6 rounded-2xl border transition-colors duration-300 hover:scale-[1.01] ${isDark ? 'bg-slate-900/50 border-slate-700 hover:bg-slate-800' : 'bg-slate-50 border-slate-200 hover:bg-white'}`}>
                <h4 className={`text-xl font-bold mb-3 flex items-center gap-2 ${isDark ? 'text-white' : 'text-slate-900'}`}><FileText className="w-5 h-5 text-orange-500" /> {t.jobOverviewTitle}</h4>
                <p className={`leading-relaxed ${isDark ? 'text-gray-300' : 'text-slate-600'}`}>{t.jobOverview}</p>
            </div>
            <div className="grid lg:grid-cols-2 gap-12">
                <div className="space-y-8">
                    <h4 className={`text-xl font-bold text-orange-400 flex items-center gap-2 border-b pb-2 ${isDark ? 'border-slate-700' : 'border-slate-200'}`}><BookOpen className="w-6 h-6" /> {t.descTitle}</h4>
                    <div className="space-y-6">
                        {t.descGroups.map((group, idx) => (
                            <div key={idx} className="hover:pl-4 transition-all duration-300 border-l-2 border-transparent hover:border-orange-500">
                                <h5 className={`font-bold mb-2 ${isDark ? 'text-white' : 'text-slate-900'}`}>{group.title}</h5>
                                <ul className="space-y-2">{group.points.map((point, pIdx) => (<li key={pIdx} className={`flex items-start gap-3 text-sm group/point ${isDark ? 'text-gray-300' : 'text-slate-600'}`}><span className="w-1.5 h-1.5 bg-orange-500 rounded-full mt-1.5 flex-shrink-0 group-hover/point:scale-150 group-hover/point:bg-white transition-all"></span><span>{point}</span></li>))}</ul>
                            </div>
                        ))}
                    </div>

                    {/* Moved Compensation & Benefits here - below Responsibilities */}
                    <div className="mt-8">
                        <h4 className={`text-xl font-bold text-orange-400 flex items-center gap-2 border-b pb-2 mb-6 ${isDark ? 'border-slate-700' : 'border-slate-200'}`}><Share2 className="w-6 h-6" /> {t.compTitle}</h4>
                        <div className={`p-5 rounded-xl border mb-4 transition-colors duration-300 hover:shadow-[0_0_15px_rgba(74,222,128,0.2)] ${isDark ? 'bg-gradient-to-r from-slate-900 to-slate-800 border-slate-600 hover:border-green-400' : 'bg-white border-slate-200 hover:border-green-500 shadow-sm'}`}><div className="flex items-center gap-3 text-green-500 font-bold text-lg"><DollarSign className="w-5 h-5" /> {t.salary}</div></div>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">{t.benefitsList.map((benefit, idx) => (<div key={idx} className={`p-4 rounded-xl border transition-all duration-300 hover:-translate-y-1 ${isDark ? 'bg-slate-900/30 border-slate-700 hover:bg-slate-800 hover:border-orange-500/30' : 'bg-white border-slate-200 hover:border-orange-300 shadow-sm'}`}><h5 className={`font-bold mb-2 ${isDark ? 'text-white' : 'text-slate-900'}`}>{benefit.title}</h5><ul className={`text-xs space-y-1 ${isDark ? 'text-gray-400' : 'text-slate-500'}`}>{benefit.items.map((item, i) => <li key={i}>• {item}</li>)}</ul></div>))}</div>
                    </div>
                </div>

                <div className="space-y-10">
                    {/* AI Feature in Job Section */}
                    <div className={`p-6 rounded-2xl border ${isDark ? 'bg-gradient-to-br from-indigo-900/40 to-purple-900/40 border-indigo-500/30' : 'bg-gradient-to-br from-indigo-50 to-purple-50 border-indigo-200'}`}>
                        <h4 className={`text-lg font-bold flex items-center gap-2 mb-4 ${isDark ? 'text-indigo-300' : 'text-indigo-700'}`}>
                            <Sparkles className="w-5 h-5 text-yellow-400" />
                            {t.ai.title}
                        </h4>
                        <p className={`text-sm mb-6 ${isDark ? 'text-indigo-200' : 'text-indigo-600'}`}>{t.ai.desc}</p>
                        
                        <button 
                            onClick={handleGenerateAdvice}
                            disabled={isGeneratingAdvice}
                            className="w-full py-3 px-4 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl font-bold shadow-lg hover:shadow-indigo-500/40 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"
                        >
                            {isGeneratingAdvice ? <Loader2 className="w-5 h-5 animate-spin" /> : <MessageSquare className="w-5 h-5" />}
                            {t.ai.btn}
                        </button>

                        {aiAdvice && (
                            <div className={`mt-6 pt-4 border-t animate-fade-in ${isDark ? 'border-indigo-500/30' : 'border-indigo-200'}`}>
                                <h5 className={`font-bold mb-2 ${isDark ? 'text-white' : 'text-slate-900'}`}>{t.ai.resultTitle}</h5>
                                <div className={`text-sm leading-relaxed whitespace-pre-wrap ${isDark ? 'text-gray-300' : 'text-slate-700'}`}>{aiAdvice}</div>
                            </div>
                        )}
                    </div>

                    <div>
                        <h4 className={`text-xl font-bold text-orange-400 flex items-center gap-2 border-b pb-2 mb-6 ${isDark ? 'border-slate-700' : 'border-slate-200'}`}><BrainCircuit className="w-6 h-6" /> {t.ksaTitle}</h4>
                        <div className="space-y-6">
                            <div className={`p-4 rounded-xl border transition-all duration-300 hover:-translate-y-1 hover:shadow-lg ${isDark ? 'bg-slate-900/40 border-slate-700/50 hover:bg-slate-800 hover:border-blue-500/50' : 'bg-white border-slate-200 hover:border-blue-400'}`}>
                                <div className="flex flex-wrap justify-between items-center mb-3 gap-2">
                                    <h5 className="font-bold text-blue-500 text-sm uppercase tracking-wider">{t.ksa.knowledge.title}</h5>
                                    <div className="flex flex-wrap gap-2 justify-end">{t.ksa.knowledge.tags.map((tag, i) => (<span key={i} className={`text-[10px] font-bold px-2 py-0.5 rounded border cursor-default transition-colors ${isDark ? 'bg-blue-500/20 text-blue-300 border-blue-500/30 hover:bg-blue-500 hover:text-white' : 'bg-blue-50 text-blue-600 border-blue-200 hover:bg-blue-100'}`}>#{tag}</span>))}</div>
                                </div>
                                <ul className="space-y-1">{t.ksa.knowledge.points.map((k, i) => <li key={i} className={`text-sm flex gap-2 ${isDark ? 'text-gray-300' : 'text-slate-700'}`}><span className="text-blue-500">•</span>{k}</li>)}</ul>
                            </div>
                            <div className={`p-4 rounded-xl border transition-all duration-300 hover:-translate-y-1 hover:shadow-lg ${isDark ? 'bg-slate-900/40 border-slate-700/50 hover:bg-slate-800 hover:border-green-500/50' : 'bg-white border-slate-200 hover:border-green-400'}`}>
                                <div className="flex flex-wrap justify-between items-center mb-3 gap-2">
                                    <h5 className="font-bold text-green-500 text-sm uppercase tracking-wider">{t.ksa.skill.title}</h5>
                                    <div className="flex flex-wrap gap-2 justify-end">{t.ksa.skill.tags.map((tag, i) => (<span key={i} className={`text-[10px] font-bold px-2 py-0.5 rounded border cursor-default transition-colors ${isDark ? 'bg-green-500/20 text-green-300 border-green-500/30 hover:bg-green-500 hover:text-white' : 'bg-green-50 text-green-600 border-green-200 hover:bg-green-100'}`}>#{tag}</span>))}</div>
                                </div>
                                <ul className="space-y-1">{t.ksa.skill.points.map((k, i) => <li key={i} className={`text-sm flex gap-2 ${isDark ? 'text-gray-300' : 'text-slate-700'}`}><span className="text-green-500">•</span>{k}</li>)}</ul>
                            </div>
                            <div className={`p-4 rounded-xl border transition-all duration-300 hover:-translate-y-1 hover:shadow-lg ${isDark ? 'bg-slate-900/40 border-slate-700/50 hover:bg-slate-800 hover:border-purple-500/50' : 'bg-white border-slate-200 hover:border-purple-400'}`}>
                                <div className="flex flex-wrap justify-between items-center mb-3 gap-2">
                                    <h5 className="font-bold text-purple-500 text-sm uppercase tracking-wider">{t.ksa.attitude.title}</h5>
                                    <div className="flex flex-wrap gap-2 justify-end">{t.ksa.attitude.tags.map((tag, i) => (<span key={i} className={`text-[10px] font-bold px-2 py-0.5 rounded border cursor-default transition-colors ${isDark ? 'bg-purple-500/20 text-purple-300 border-purple-500/30 hover:bg-purple-500 hover:text-white' : 'bg-purple-50 text-purple-600 border-purple-200 hover:bg-purple-100'}`}>#{tag}</span>))}</div>
                                </div>
                                <ul className="space-y-1">{t.ksa.attitude.points.map((k, i) => <li key={i} className={`text-sm flex gap-2 ${isDark ? 'text-gray-300' : 'text-slate-700'}`}><span className="text-purple-500">•</span>{k}</li>)}</ul>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h4 className={`text-lg font-bold flex items-center gap-2 mb-6 ${isDark ? 'text-gray-400' : 'text-slate-600'}`}><Book className="w-5 h-5" /> {t.termTitle}</h4>
                        <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">{t.terms.map((term, idx) => (<Flashcard key={idx} term={term.term} def={term.def} isDark={isDark} />))}</div>
                    </div>
                </div>
            </div>
          </div>
        </div>
    </div>
  );
};

const MarketSection = ({ lang, isDark }) => {
  const t = getContent(lang).market;
  const [activeModal, setActiveModal] = useState(null);
  const [activeComp, setActiveComp] = useState(null);
  const [aiInsight, setAiInsight] = useState('');
  const [isGeneratingInsight, setIsGeneratingInsight] = useState(false);

  const handleGenerateInsight = async () => {
      setIsGeneratingInsight(true);
      const prompt = `Context: MediaTek vs Qualcomm (High MC/RS), Samsung, Unisoc, Apple. Value Net includes TSMC, Arm. Task: Provide a concise executive summary of MediaTek's strategic position and one recommendation. Language: ${lang === 'zh' ? 'Traditional Chinese' : 'English'}.`;
      const insight = await callGemini(prompt);
      setAiInsight(insight);
      setIsGeneratingInsight(false);
  }

  const diamondPositions = {
      CUSTOMER: 'top-[5%] left-1/2 -translate-x-1/2',
      SUPPLIER: 'bottom-[5%] left-1/2 -translate-x-1/2',
      COMPETITOR: 'top-1/2 left-0 -translate-y-1/2',
      COMPLEMENTOR: 'top-1/2 right-0 -translate-y-1/2'
  };

  const getPosClass = (cat) => {
      if(cat.includes('CUSTOMER')) return diamondPositions.CUSTOMER;
      if(cat.includes('SUPPLIER')) return diamondPositions.SUPPLIER;
      if(cat.includes('COMPETITOR')) return diamondPositions.COMPETITOR;
      if(cat.includes('COMPLEMENTOR')) return diamondPositions.COMPLEMENTOR;
      return '';
  };

  const getIcon = (name) => {
    switch(name) {
      case 'Box': return <Box className="w-5 h-5" />;
      case 'Users': return <Users className="w-5 h-5" />;
      case 'ShieldCheck': return <ShieldCheck className="w-5 h-5" />;
      case 'Factory': return <Factory className="w-5 h-5" />;
      default: return <Box className="w-5 h-5" />;
    }
  };

  return (
    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 animate-fade-in relative">
      {activeModal !== null && (
          <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in" onClick={() => setActiveModal(null)}>
              <div className={`rounded-2xl border p-6 max-w-lg w-full shadow-2xl relative animate-scale-up ${isDark ? 'bg-slate-900 border-slate-600' : 'bg-white border-slate-300'}`} onClick={e => e.stopPropagation()}>
                  <button onClick={() => setActiveModal(null)} className={`absolute top-4 right-4 transition-colors ${isDark ? 'text-gray-400 hover:text-white' : 'text-slate-500 hover:text-slate-800'}`}><X /></button>
                  <div className={`inline-flex p-3 rounded-full mb-4 ${t.vnData[activeModal].color}`}>
                      {getIcon(t.vnData[activeModal].icon)}
                  </div>
                  <h3 className={`text-2xl font-bold mb-4 ${isDark ? 'text-white' : 'text-slate-900'}`}>{t.vnData[activeModal].category}</h3>
                  <div className="space-y-4">
                      <ul className="space-y-3">
                          {t.vnData[activeModal].partners.map((p, i) => (
                              <li key={i} className={`text-sm p-3 rounded-lg border ${isDark ? 'text-gray-300 bg-slate-800 border-slate-700' : 'text-slate-600 bg-slate-50 border-slate-200'}`}>
                                  <strong className="text-orange-400 block mb-1 text-base">{p.name}</strong>
                                  <span>{p.details}</span>
                              </li>
                          ))}
                      </ul>
                      <div className={`pt-4 border-t ${isDark ? 'border-slate-700' : 'border-slate-200'}`}>
                          <p className={`text-sm font-medium italic p-3 rounded border-l-4 border-orange-500 ${isDark ? 'text-gray-400 bg-slate-950' : 'text-slate-600 bg-slate-100'}`}>
                              {t.vnData[activeModal].valueProvided}
                          </p>
                      </div>
                  </div>
              </div>
          </div>
      )}

      <div className="text-center mb-16">
        <h2 className={`text-4xl font-bold mb-4 flex items-center justify-center gap-3 ${isDark ? 'text-white' : 'text-slate-900'}`}>
          <TrendingUp className="text-orange-500 w-10 h-10 animate-bounce-slow" /> {t.title}
        </h2>
        <p className={`max-w-3xl mx-auto text-lg ${isDark ? 'text-gray-400' : 'text-slate-600'}`}>{t.subtitle}</p>
      </div>

      <div className="mb-20">
          <h3 className={`text-2xl font-bold mb-8 border-l-4 border-orange-500 pl-4 ${isDark ? 'text-white' : 'text-slate-900'}`}>{t.resourceTitle}</h3>
          <div className="grid md:grid-cols-2 gap-8">
             <div className={`p-8 rounded-3xl border transition-all duration-300 hover:-translate-y-1 ${isDark ? 'bg-slate-900/60 border-slate-700 hover:border-orange-500/30' : 'bg-white border-slate-200 hover:border-orange-400 shadow-md'}`}>
                  <div className="flex items-center gap-3 mb-6">
                      <div className="p-3 bg-blue-900/30 rounded-full"><Box className="w-6 h-6 text-blue-400" /></div>
                      <h4 className={`text-xl font-bold ${isDark ? 'text-white' : 'text-slate-900'}`}>{t.tangibleTitle}</h4>
                  </div>
                  <ul className="space-y-4">
                      {t.tangiblePoints.map((point, i) => (
                          <li key={i} className={`flex items-start gap-3 ${isDark ? 'text-gray-300' : 'text-slate-600'}`}>
                              <span className="w-1.5 h-1.5 rounded-full bg-blue-500 mt-2 block flex-shrink-0"></span>
                              <span>{point}</span>
                          </li>
                      ))}
                  </ul>
              </div>
              <div className={`p-8 rounded-3xl border transition-all duration-300 hover:-translate-y-1 ${isDark ? 'bg-slate-900/60 border-slate-700 hover:border-orange-500/30' : 'bg-white border-slate-200 hover:border-orange-400 shadow-md'}`}>
                  <div className="flex items-center gap-3 mb-6">
                      <div className="p-3 bg-purple-900/30 rounded-full"><Zap className="w-6 h-6 text-purple-400" /></div>
                      <h4 className={`text-xl font-bold ${isDark ? 'text-white' : 'text-slate-900'}`}>{t.intangibleTitle}</h4>
                  </div>
                  <ul className="space-y-4">
                      {t.intangiblePoints.map((point, i) => (
                          <li key={i} className={`flex items-start gap-3 ${isDark ? 'text-gray-300' : 'text-slate-600'}`}>
                              <span className="w-1.5 h-1.5 rounded-full bg-purple-500 mt-2 block flex-shrink-0"></span>
                              <span>{point}</span>
                          </li>
                      ))}
                  </ul>
              </div>
          </div>
          
           {/* Added Terminology Flashcards for Market Section */}
          <div className="mt-12">
              <h4 className={`text-lg font-bold flex items-center gap-2 mb-6 ${isDark ? 'text-gray-400' : 'text-slate-600'}`}><Book className="w-5 h-5" /> {t.termTitle}</h4>
              <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
                  {t.terms.map((term, idx) => (
                      <Flashcard key={idx} term={term.term} def={term.def} isDark={isDark} />
                  ))}
              </div>
          </div>
      </div>

      <div className="grid lg:grid-cols-1 gap-20">
           {/* MC-RS Matrix */}
           <div className={`backdrop-blur p-8 rounded-3xl border shadow-xl w-full ${isDark ? 'bg-slate-800/50 border-slate-700' : 'bg-white/80 border-slate-200'}`}>
              <h3 className="text-2xl font-bold text-orange-400 mb-8 text-center">{t.matrixTitle}</h3>
              
              <div className="flex flex-col xl:flex-row gap-12 items-center xl:items-start w-full justify-center">
                  {/* Visual Matrix */}
                  <div className={`w-full aspect-square max-w-[350px] mx-auto xl:mx-0 xl:w-1/2 xl:max-w-none xl:aspect-auto xl:h-96 relative border-l-2 border-b-2 ${isDark ? 'border-gray-600 bg-slate-800/50' : 'border-slate-400 bg-slate-50/50'} [background-size:20px_20px]`} style={{ backgroundImage: isDark ? 'radial-gradient(#334155 1px, transparent 1px)' : 'radial-gradient(#cbd5e1 1px, transparent 1px)' }}>
                      <div className={`absolute bottom-[-30px] right-0 text-sm font-bold tracking-wider ${isDark ? 'text-gray-400' : 'text-slate-600'}`}>{t.matrixX}</div>
                      
                      <div className="absolute top-0 left-[-20px] xl:left-[-60px] h-full flex flex-col justify-center items-center gap-0.5 xl:gap-1">
                         {Array.isArray(t.matrixY) ? (
                              t.matrixY.map((char, i) => (
                                  <span key={i} className={`text-xs sm:text-sm font-bold leading-none ${isDark ? 'text-gray-400' : 'text-slate-600'}`}>{char}</span>
                              ))
                          ) : (
                              <span className={`text-xs sm:text-sm font-bold tracking-wider whitespace-nowrap ${isDark ? 'text-gray-400' : 'text-slate-600'}`} style={{ writingMode: 'vertical-rl', transform: 'rotate(180deg)' }}>
                                  {t.matrixY}
                              </span>
                          )}
                      </div>
                      
                      {/* Competitor Points - Adjusted labels for dark mode */}
                      <div 
                        className={`absolute top-[10%] right-[10%] group cursor-pointer z-10 transition-all duration-300 ${activeComp && activeComp !== 'qualcomm' ? 'opacity-30 blur-[1px]' : 'opacity-100 scale-110'}`}
                        onMouseEnter={() => setActiveComp('qualcomm')}
                        onMouseLeave={() => setActiveComp(null)}
                      >
                          <div className={`w-4 h-4 xl:w-5 xl:h-5 bg-red-500 rounded-full border-2 border-white shadow-[0_0_15px_rgba(239,68,68,0.8)] ${activeComp === 'qualcomm' ? 'animate-ping' : ''}`}></div>
                          {activeComp !== 'qualcomm' && <div className="w-4 h-4 xl:w-5 xl:h-5 bg-red-500 rounded-full border-2 border-white absolute inset-0"></div>}
                          <div className={`absolute top-full mt-2 left-1/2 -translate-x-1/2 text-[10px] xl:text-xs font-bold whitespace-nowrap px-2 py-1 rounded shadow-sm border ${isDark ? 'bg-slate-900/90 border-red-500/50 text-red-400' : 'bg-white/90 border-red-200 text-red-600'}`}>Qualcomm</div>
                      </div>

                      <div 
                        className={`absolute top-[40%] right-[40%] group cursor-pointer z-10 transition-all duration-300 ${activeComp && activeComp !== 'samsung' ? 'opacity-30 blur-[1px]' : 'opacity-100 scale-110'}`}
                        onMouseEnter={() => setActiveComp('samsung')}
                        onMouseLeave={() => setActiveComp(null)}
                      >
                          <div className={`w-4 h-4 xl:w-5 xl:h-5 bg-blue-500 rounded-full border-2 border-white shadow-[0_0_15px_rgba(59,130,246,0.8)] ${activeComp === 'samsung' ? 'animate-ping' : ''}`}></div>
                          {activeComp !== 'samsung' && <div className="w-4 h-4 xl:w-5 xl:h-5 bg-blue-500 rounded-full border-2 border-white absolute inset-0"></div>}
                          <div className={`absolute top-full mt-2 left-1/2 -translate-x-1/2 text-[10px] xl:text-xs font-bold whitespace-nowrap px-2 py-1 rounded shadow-sm border ${isDark ? 'bg-slate-900/90 border-blue-500/50 text-blue-400' : 'bg-white/90 border-blue-200 text-blue-600'}`}>Samsung LSI</div>
                      </div>

                      <div 
                        className={`absolute top-[50%] left-[20%] group cursor-pointer z-10 transition-all duration-300 ${activeComp && activeComp !== 'unisoc' ? 'opacity-30 blur-[1px]' : 'opacity-100 scale-110'}`}
                        onMouseEnter={() => setActiveComp('unisoc')}
                        onMouseLeave={() => setActiveComp(null)}
                      >
                          <div className={`w-4 h-4 xl:w-5 xl:h-5 bg-purple-500 rounded-full border-2 border-white shadow-[0_0_15px_rgba(168,85,247,0.8)] ${activeComp === 'unisoc' ? 'animate-ping' : ''}`}></div>
                          {activeComp !== 'unisoc' && <div className="w-4 h-4 xl:w-5 xl:h-5 bg-purple-500 rounded-full border-2 border-white absolute inset-0"></div>}
                          <div className={`absolute top-full mt-2 left-1/2 -translate-x-1/2 text-[10px] xl:text-xs font-bold whitespace-nowrap px-2 py-1 rounded shadow-sm border ${isDark ? 'bg-slate-900/90 border-purple-500/50 text-purple-400' : 'bg-white/90 border-purple-200 text-purple-600'}`}>UNISOC</div>
                      </div>

                      <div 
                        className={`absolute bottom-[10%] left-[10%] group cursor-pointer z-10 transition-all duration-300 ${activeComp && activeComp !== 'apple' ? 'opacity-30 blur-[1px]' : 'opacity-100 scale-110'}`}
                        onMouseEnter={() => setActiveComp('apple')}
                        onMouseLeave={() => setActiveComp(null)}
                      >
                          <div className={`w-4 h-4 xl:w-5 xl:h-5 bg-gray-500 rounded-full border-2 border-white shadow-[0_0_15px_rgba(107,114,128,0.8)] ${activeComp === 'apple' ? 'animate-ping' : ''}`}></div>
                          {activeComp !== 'apple' && <div className="w-4 h-4 xl:w-5 xl:h-5 bg-gray-500 rounded-full border-2 border-white absolute inset-0"></div>}
                          <div className={`absolute top-full mt-2 left-1/2 -translate-x-1/2 text-[10px] xl:text-xs font-bold whitespace-nowrap px-2 py-1 rounded shadow-sm border ${isDark ? 'bg-slate-900/90 border-gray-500/50 text-gray-400' : 'bg-white/90 border-gray-200 text-gray-600'}`}>Apple</div>
                      </div>
                  </div>

                  {/* Competitor Cards */}
                  <div className="w-full xl:w-1/2 space-y-4 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar">
                      {t.competitorsList.map((comp, idx) => (
                          <div 
                            key={idx} 
                            className={`p-5 rounded-xl border transition-all duration-300 cursor-default group hover:shadow-[0_0_20px_rgba(249,115,22,0.3)] hover:border-orange-500/50 hover:translate-x-1
                                ${activeComp === comp.id ? `border-${comp.color.split('-')[1]}-500 shadow-lg ${isDark ? 'bg-slate-800' : 'bg-white'}` : (isDark ? 'bg-slate-900 border-slate-700 hover:border-slate-500' : 'bg-slate-50 border-slate-200 hover:border-slate-400')}
                                ${activeComp && activeComp !== comp.id ? 'opacity-40 grayscale' : 'opacity-100'}
                            `}
                            onMouseEnter={() => setActiveComp(comp.id)}
                            onMouseLeave={() => setActiveComp(null)}
                          >
                              <div className="flex justify-between items-start mb-3">
                                  <div className="flex items-center gap-2">
                                      <div className={`w-3 h-3 rounded-full ${comp.color}`}></div>
                                      <h4 className={`font-bold text-lg ${isDark ? 'text-white' : 'text-slate-900'}`}>{comp.name}</h4>
                                  </div>
                              </div>
                              <div className={`flex gap-4 text-xs mb-3 font-mono ${isDark ? 'text-gray-400' : 'text-slate-500'}`}>
                                  <span>MC: <span className={`font-bold ${isDark ? 'text-white' : 'text-slate-900'}`}>{comp.mc}</span></span>
                                  <span>RS: <span className={`font-bold ${isDark ? 'text-white' : 'text-slate-900'}`}>{comp.rs}</span></span>
                              </div>
                              <p className={`text-sm leading-relaxed border-t pt-2 ${isDark ? 'text-gray-300 border-slate-800' : 'text-slate-700 border-slate-200'}`}>
                                  {comp.analysis}
                              </p>
                          </div>
                      ))}
                  </div>
              </div>
           </div>

           <div className={`backdrop-blur p-8 rounded-3xl border shadow-lg mt-12 w-full overflow-hidden ${isDark ? 'bg-slate-900/80 border-slate-700' : 'bg-white/90 border-slate-200'}`}>
              <h3 className="text-2xl font-bold text-orange-400 mb-12 text-center">{t.valueNetTitle}</h3>
              {/* AI Button - New Placement */}
               <div className="flex justify-center mb-8">
                  <button 
                      onClick={handleGenerateInsight}
                      disabled={isGeneratingInsight}
                      className="py-2 px-6 bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-500 hover:to-red-500 text-white rounded-full font-bold shadow-lg hover:shadow-orange-500/40 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transform hover:-translate-y-0.5"
                  >
                      {isGeneratingInsight ? <Loader2 className="w-4 h-4 animate-spin" /> : <Sparkles className="w-4 h-4 text-yellow-300" />}
                      {t.ai.btn}
                  </button>
              </div>
              
              {aiInsight && (
                  <div className={`mb-10 p-6 rounded-2xl border border-orange-500/30 animate-fade-in mx-auto max-w-3xl ${isDark ? 'bg-slate-800/50' : 'bg-orange-50'}`}>
                      <h4 className="font-bold text-orange-300 mb-3 flex items-center gap-2">
                          <BrainCircuit className="w-5 h-5" />
                          {t.ai.resultTitle}
                      </h4>
                      <div className={`text-sm leading-relaxed whitespace-pre-wrap ${isDark ? 'text-gray-300' : 'text-slate-700'}`}>{aiInsight}</div>
                  </div>
              )}

              {/* Value Net - Mobile: Force Square Aspect, Remove Transform Scale, Adjust Nodes */}
              <div className="relative w-full aspect-square max-w-[350px] sm:max-w-[400px] xl:max-w-2xl mx-auto h-auto">
                  <div className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20">
                      <div className="w-20 h-20 md:w-32 md:h-32 rounded-full bg-gradient-to-br from-orange-500 to-amber-600 flex items-center justify-center shadow-[0_0_30px_rgba(234,88,12,0.5)] animate-pulse-slow">
                          <span className="font-extrabold text-white text-base md:text-xl">MediaTek</span>
                      </div>
                  </div>

                  <svg className="absolute inset-0 w-full h-full pointer-events-none z-0">
                      {/* Lines adjusted to connect to new node positions */}
                      <line x1="50%" y1="50%" x2="50%" y2="10%" stroke={isDark ? "#475569" : "#cbd5e1"} strokeWidth="2" strokeDasharray="5,5" />
                      <line x1="50%" y1="50%" x2="50%" y2="90%" stroke={isDark ? "#475569" : "#cbd5e1"} strokeWidth="2" strokeDasharray="5,5" />
                      <line x1="50%" y1="50%" x2="10%" y2="50%" stroke={isDark ? "#475569" : "#cbd5e1"} strokeWidth="2" strokeDasharray="5,5" />
                      <line x1="50%" y1="50%" x2="90%" y2="50%" stroke={isDark ? "#475569" : "#cbd5e1"} strokeWidth="2" strokeDasharray="5,5" />
                  </svg>

                  {t.vnData.map((item, idx) => (
                      <div 
                          key={idx}
                          className={`absolute ${getPosClass(item.id)} z-10 w-20 h-20 md:w-40 md:h-40 cursor-pointer group transition-all duration-300 hover:scale-110`}
                          onClick={() => setActiveModal(idx)}
                      >
                          <div className={`w-full h-full rounded-2xl border-2 flex flex-col items-center justify-center text-center p-1 md:p-4 shadow-xl ${item.color} ${isDark ? 'bg-slate-900' : 'bg-white'} group-hover:bg-opacity-90 transition-colors`}>
                              <div className="mb-0.5 md:mb-2 scale-75 md:scale-100">{getIcon(item.icon)}</div>
                              <h4 className={`font-bold text-[9px] md:text-sm leading-tight ${isDark ? 'text-white' : 'text-slate-900'}`}>{item.category}</h4>
                              <p className={`text-[7px] md:text-[10px] mt-0.5 hidden md:block ${isDark ? 'text-gray-400' : 'text-slate-500'}`}>{t.clickDetails}</p>
                          </div>
                      </div>
                  ))}
              </div>
           </div>
      </div>
    </div>
  );
};

// --- The Modified QASection (Re-adding FAQ, Removing Form, Added AI Generator) ---
const QASection = ({ lang, isDark }) => {
  const t = getContent(lang).qa;
  const [openFaq, setOpenFaq] = useState(null);
  const [quizAnswers, setQuizAnswers] = useState({});
  const [showExplanation, setShowExplanation] = useState({});
  
  // New state for AI generated quizzes
  const [generatedQuizzes, setGeneratedQuizzes] = useState([]);
  const [isGeneratingQuiz, setIsGeneratingQuiz] = useState(false);

  const handleQuizAnswer = (qIndex, optionIndex) => {
    setQuizAnswers(prev => ({...prev, [qIndex]: optionIndex}));
    setShowExplanation(prev => ({...prev, [qIndex]: true}));
  };

  const handleGenerateQuiz = async () => {
    setIsGeneratingQuiz(true);
    const promptLang = lang === 'zh' ? 'Traditional Chinese' : 'English';
    const prompt = `Generate 1 multiple choice question about MediaTek in ${promptLang}.
    Format strictly as JSON:
    {
      "category": "AI Generated",
      "question": "Question text",
      "options": [
        {"text": "Option A", "isCorrect": false},
        {"text": "Option B", "isCorrect": true},
        {"text": "Option C", "isCorrect": false}
      ],
      "explanation": "Explanation text"
    }
    Do not use markdown code blocks. Just the raw JSON string.`;

    try {
      const text = await callGemini(prompt);
      const cleanText = text.replace(/```json|```/g, '').trim(); 
      const newQuiz = JSON.parse(cleanText);
      setGeneratedQuizzes(prev => [newQuiz, ...prev]);
    } catch (e) {
      console.error(e);
      alert("AI 生成失敗，請再試一次。");
    }
    setIsGeneratingQuiz(false);
  };

  const allQuizzes = [...generatedQuizzes, ...t.quizzes];

  return (
    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 animate-fade-in space-y-16 min-h-screen flex flex-col justify-center">
      <div className="text-center max-w-3xl mx-auto">
        <h2 className={`text-4xl font-bold mb-6 flex items-center justify-center gap-3 ${isDark ? 'text-white' : 'text-slate-900'}`}>
          <MessageCircle className="text-orange-500 w-10 h-10" /> {t.title}
        </h2>
        <p className={`text-xl ${isDark ? 'text-gray-400' : 'text-slate-600'}`}>{t.subtitle}</p>
      </div>

      <div className="max-w-4xl mx-auto w-full space-y-16">
          {/* FAQ Section */}
          <div className="animate-fade-in-up">
             <h3 className="text-2xl font-bold text-orange-400 mb-6 flex items-center gap-2">
                <HelpCircle className="w-6 h-6" /> {t.faqTitle}
             </h3>
             <div className="space-y-4">
                {t.faqs.map((faq, idx) => (
                  <div key={idx} className={`rounded-xl border overflow-hidden ${isDark ? 'bg-slate-900/60 border-slate-700' : 'bg-white border-slate-200'}`}>
                    <button 
                      onClick={() => setOpenFaq(openFaq === idx ? null : idx)}
                      className={`w-full px-6 py-4 flex justify-between items-center text-left transition-colors ${isDark ? 'hover:bg-slate-800' : 'hover:bg-slate-50'}`}
                    >
                      <span className={`font-bold pr-4 ${isDark ? 'text-gray-200' : 'text-slate-800'}`}>{faq.q}</span>
                      {openFaq === idx ? <ChevronUp className="w-5 h-5 text-orange-500 flex-shrink-0" /> : <ChevronDown className="w-5 h-5 text-gray-500 flex-shrink-0" />}
                    </button>
                    <div className={`px-6 overflow-hidden transition-all duration-300 ${openFaq === idx ? 'max-h-96 pb-6 pt-2 opacity-100' : 'max-h-0 opacity-0'}`}>
                      <p className={`leading-relaxed border-t pt-4 ${isDark ? 'text-gray-400 border-slate-700/50' : 'text-slate-600 border-slate-100'}`}>{faq.a}</p>
                    </div>
                  </div>
                ))}
             </div>
          </div>

          {/* Quiz Section */}
          <div className="animate-fade-in-up delay-200">
            <div className="flex flex-col md:flex-row justify-between items-center mb-6 gap-4">
                <h3 className="text-2xl font-bold text-orange-400 flex items-center gap-2">
                    <BrainCircuit className="w-6 h-6" /> {t.quizTitle}
                </h3>
                <button 
                  onClick={handleGenerateQuiz}
                  disabled={isGeneratingQuiz}
                  className="px-4 py-2 bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-500 hover:to-red-500 text-white rounded-lg font-bold shadow-lg transition-all flex items-center gap-2 disabled:opacity-50 text-sm"
               >
                  {isGeneratingQuiz ? <Loader2 className="w-4 h-4 animate-spin" /> : <RefreshCw className="w-4 h-4" />}
                  {t.aiQuizBtn || 'Generate New Quiz'}
               </button>
            </div>

            <div className="space-y-6">
                {allQuizzes.map((quiz, qIdx) => (
                <div key={qIdx} className={`p-6 rounded-xl border transition-colors ${isDark ? 'bg-slate-900/60 border-slate-700 hover:border-slate-500' : 'bg-white border-slate-200 hover:border-slate-400'}`}>
                    <div className="flex justify-between items-start mb-4">
                    <span className="text-xs font-bold text-orange-500 bg-orange-500/10 px-2 py-1 rounded uppercase tracking-wider">{quiz.category}</span>
                    {qIdx < generatedQuizzes.length && <span className="text-xs font-bold text-blue-300 bg-blue-500/20 px-2 py-1 rounded border border-blue-500/30">{t.aiTag || 'AI Generated'}</span>}
                    </div>
                    <h4 className={`text-lg font-bold mb-4 ${isDark ? 'text-white' : 'text-slate-900'}`}>{quiz.question}</h4>
                    <div className="space-y-2">
                    {quiz.options.map((opt, oIdx) => {
                        const isSelected = quizAnswers[qIdx] === oIdx;
                        const isCorrect = opt.isCorrect;
                        const showResult = showExplanation[qIdx];
                        
                        let btnClass = "w-full text-left p-3 rounded-lg border text-sm transition-all duration-200 ";
                        if (showResult) {
                        if (isCorrect) btnClass += "bg-green-500/20 border-green-500 text-green-300";
                        else if (isSelected) btnClass += "bg-red-500/20 border-red-500 text-red-300";
                        else btnClass += `${isDark ? 'bg-slate-800 border-slate-700 text-gray-400' : 'bg-slate-100 border-slate-200 text-slate-400'} opacity-50`;
                        } else {
                        btnClass += `${isDark ? 'bg-slate-800 border-slate-700 text-gray-300 hover:bg-slate-700 hover:border-slate-500' : 'bg-slate-50 border-slate-200 text-slate-700 hover:bg-white hover:border-slate-300'}`;
                        }

                        return (
                        <button 
                            key={oIdx}
                            onClick={() => !showResult && handleQuizAnswer(qIdx, oIdx)}
                            disabled={showResult}
                            className={btnClass}
                        >
                            {opt.text}
                            {showResult && isCorrect && <CheckCircle className="inline w-4 h-4 ml-2" />}
                        </button>
                        )
                    })}
                    </div>
                    {showExplanation[qIdx] && (
                    <div className={`mt-4 p-3 rounded-lg text-sm ${quiz.options[quizAnswers[qIdx]].isCorrect ? 'bg-green-900/20 text-green-200 border border-green-500/30' : 'bg-red-900/20 text-red-200 border border-red-500/30'}`}>
                        {quiz.explanation}
                    </div>
                    )}
                </div>
                ))}
            </div>
          </div>
      </div>
    </div>
  );
};

// --- Main App Component ---

const App = () => {
  const [lang, setLang] = useState('zh');
  const [page, setPage] = useState('home');
  const [isDark, setIsDark] = useState(true);

  // Simple scroll to top when page changes
  useEffect(() => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }, [page]);

  const renderContent = () => {
    switch (page) {
      case 'team': return <TeamSection lang={lang} isDark={isDark} />;
      case 'company': return <CompanySection lang={lang} isDark={isDark} />;
      case 'job': return <JobSection lang={lang} isDark={isDark} />;
      case 'market': return <MarketSection lang={lang} isDark={isDark} />;
      case 'qa': return <QASection lang={lang} isDark={isDark} />;
      case 'home':
      default: return <HomePage lang={lang} setPage={setPage} isDark={isDark} />;
    }
  };

  return (
    <div className={`min-h-screen font-sans pb-12 transition-colors duration-300 ${isDark ? 'bg-slate-950 text-slate-50 selection:bg-orange-500 selection:text-white' : 'bg-white text-slate-900 selection:bg-orange-200 selection:text-orange-900'}`}>
      <Navbar lang={lang} setLang={setLang} page={page} setPage={setPage} isDark={isDark} setIsDark={setIsDark} />
      
      <div className={`transition-opacity duration-500 ${page === 'home' ? '' : 'pt-24'}`}>
         {renderContent()}
      </div>

      {page !== 'home' && (
        <footer className={`mt-20 border-t pt-8 text-center text-sm ${isDark ? 'border-slate-800 text-gray-500' : 'border-slate-200 text-slate-500'}`}>
           <p>© 2025 Co-opetitive Dynamics Course Project. MediaTek Analysis.</p>
        </footer>
      )}
    </div>
  );
};

export default App;